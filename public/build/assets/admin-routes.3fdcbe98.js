import{u as Ce,j as u,c as A,a as e,C as dr,T as r,O as xa,m as p,b as Be,d as z,R,r as m,e as Ie,f as hs,S as Wt,I as x,g as L,h as _e,$ as Gt,i as ps,k as gs,K as mr,l as ca,n as X,D as te,o as se,p as ae,q as G,F as de,s as hr,B as w,t as M,v as O,w as ut,A as fs,x as Kt,y as U,z as B,E as V,G as le,H as Me,J as wa,L as Sa,M as ye,N as D,P as K,Q as bs,U as qe,V as ua,W as ue,X as pr,Y as Ze,Z as He,_ as vs,a0 as Et,a1 as ka,a2 as ys,a3 as Ot,a4 as gr,a5 as xs,a6 as Ha,a7 as ws,a8 as je,a9 as Q,aa as Na,ab as f,ac as E,ad as ze,ae as fr,af as br,ag as Qt,ah as Wa,ai as vr,aj as Ss,ak as Z,al as ot,am as ks,an as xe,ao as C,ap as yr,aq as xr,ar as wr,as as Ca,at as Sr,au as kr,av as Ns,aw as et,ax as Nr,ay as me,az as we,aA as Cs,aB as _a,aC as $a,aD as dt,aE as Se,aF as jt,aG as tt,aH as Cr,aI as _r,aJ as Ea,aK as Je,aL as _s,aM as $r,aN as Er,aO as Ar,aP as Pr,aQ as zr,aR as Tr,aS as Fr,aT as Ir,aU as $s,aV as Mr,aW as Lr,aX as Dr,aY as Rr,aZ as Es,a_ as Vr,a$ as Xe,b0 as Or,b1 as Ur,b2 as Aa,b3 as Br,b4 as J,b5 as qr}from"./main.2bad25cd.js";import{D as Hr,a as Wr,b as Gr,c as Kr,B as Ue,F as ie,d as Ne,C as mt,U as ht,A as As,P as Qr,K as Ps,e as Pa,u as za,I as jr,N as Jr,f as Xr,S as Yr,g as Ta,h as Zr,T as ei,i as ve,j as ti,k as ai,l as si,m as Ga,n as zs,o as ni,p as Ts,L as Fs,q as Is,r as da,s as Ms,t as ri,v as ii,w as li,x as Ut,y as Jt,z as Fa,E as oi,G as T,M as ci,H as Ls,J as ui,O as di,Q as mi,R as hi,V as pi,W as Ka}from"./date-picker.d8be8944.js";import{E as We,B as gi,a as Qa}from"./Edit.2aa2741b.js";import{u as Ds,a as fi}from"./use-resume-subscription.985ade8a.js";class bi{getStringForLocale(a,s){let n=this.strings[s];n||(n=vi(s,this.strings,this.defaultLocale),this.strings[s]=n);let i=n[a];if(!i)throw new Error(`Could not find intl message ${a} in ${s} locale`);return i}constructor(a,s="en-US"){this.strings={...a},this.defaultLocale=s}}function vi(t,a,s="en-US"){if(a[t])return a[t];let n=yi(t);if(a[n])return a[n];for(let i in a)if(i.startsWith(n+"-"))return a[i];return a[s]}function yi(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}function xi({className:t,isCompactMode:a}){const{version:s}=Ce();return u("div",{className:A(t,"text-sm pt-26 px-8 pb-16 text-muted font-medium bg-alt flex flex-col gap-20 border-r overflow-y-auto relative",a&&"compact-scrollbar"),children:[e(dr,{matchDescendants:n=>n==="/admin",menu:"admin-sidebar",orientation:"vertical",onlyShowIcons:a,itemClassName:({isActive:n})=>A("block w-full rounded py-12 px-16 border-l-4",n?"bg-primary/hover border-l-primary":"border-l-transparent hover:bg-hover"),gap:"gap-8"}),e("div",{className:"mt-auto gap-14 px-16 text-xs",children:e(r,{message:"Version: :number",values:{number:s}})})]})}function wi(){return u(Hr,{name:"admin",leftSidenavCanBeCompact:!0,children:[e(Wr,{size:"sm",color:"primary",menuPosition:"admin-navbar"}),e(Gr,{position:"left",size:"sm",children:e(xi,{})}),e(Kr,{children:e("div",{className:"bg dark:bg-alt",children:e(xa,{})})})]})}const Si=[new Ue({type:ie.Select,key:"email_verified_at",label:p("Email"),description:p("Email verification status"),defaultValue:"01",defaultOperator:Ne.ne,options:[{key:"01",label:p("is confirmed"),value:{value:null,operator:Ne.ne}},{key:"02",label:p("is not confirmed"),value:{value:null,operator:Ne.eq}}]}),new mt({description:p("Date user registered or was created")}),new ht({description:p("Date user was last updated")}),new Ue({type:ie.Select,key:"subscriptions",label:p("Subscription"),description:p("Whether user is subscribed or not"),defaultValue:"01",options:[{key:"01",label:p("is subscribed"),value:{value:"*",operator:Ne.has}},{key:"02",label:p("is not subscribed"),value:{value:"*",operator:Ne.doesntHave}}]})];function pt({image:t,label:a,description:s}){return u("div",{className:"flex items-center gap-12",children:[t&&e(As,{size:"md",src:t}),u("div",{children:[e("div",{children:a}),e("div",{className:"text-muted text-xs",children:s})]})]})}const j=(t,a)=>{const s=[t];return a&&s.push(a),s};function ki(t,a,s){return Be(j(t,a),()=>Ni(t,a),{...s,keepPreviousData:!0})}function Ni(t,a){return z.get(t,{params:a}).then(s=>s.data)}const Rs=R.createContext(null);function gt(){return m.exports.useContext(Rs)}function Ia(t){return e(Qr,{...t})}const Ci=15,_i=[{key:10},{key:15},{key:20},{key:50},{key:100}];function $i({query:t}){var c;const a=Ie(),s=hs(),{params:n,setParams:i}=gt(),l=(c=t.data)==null?void 0:c.pagination;if(!l)return null;const o=e(Wt,{minWidth:"min-w-auto",selectionMode:"single",disabled:t.isLoading,labelPosition:"side",size:"xs",label:e(r,{message:"Items per page"}),selectedValue:n.perPage||Ci,onSelectionChange:d=>{i({...n,perPage:d})},children:_i.map(d=>e(x,{value:d.key,children:d.key},d.key))});return u("div",{className:"flex items-center justify-end gap-20 px-20 h-54 select-none",children:[!a&&o,l.from&&l.to&&e("div",{className:"text-sm",children:e(r,{message:":from - :to of :total",values:{from:l.from,to:l.to,total:s.format(l.total)}})}),u("div",{className:"text-muted",children:[e(L,{disabled:t.isLoading||!l.prev_page,onClick:()=>{i({...n,page:l.prev_page})},children:e(Ps,{})}),e(L,{disabled:t.isLoading||!l.next_page,onClick:()=>{i({...n,page:l.next_page})},children:e(Pa,{})})]})]})}const ja=_e(e("path",{d:"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAltOutlined"),Ge=R.forwardRef(({variant:t="default",mode:a="single",children:s,className:n,...i},l)=>{const[o,c]=Gt(i.expandedValues,i.defaultExpandedValues||[],i.onExpandedChange);return e("div",{className:A(t==="outline"&&"space-y-10",n),ref:l,role:"presentation",children:e(ps,{children:R.Children.map(s,(d,h)=>m.exports.isValidElement(d)?m.exports.cloneElement(d,{key:d.key||h,value:d.props.value||h,mode:a,variant:t,expandedValues:o,setExpandedValues:c}):null)})})});function be({children:t,label:a,disabled:s,bodyClassName:n,startIcon:i,description:l,endAppend:o,chevronPosition:c="right",...d}){const{expandedValues:h,setExpandedValues:g,variant:b,value:v,mode:y}=d,k=m.exports.useRef(null),S=!s&&h.includes(v),N=gs(),_=m.exports.useId(),F=`${_}-button`,q=`${_}-panel`,Y=ge=>{switch(ge.key){case"ArrowDown":N.focusNext();break;case"ArrowUp":N.focusPrevious();break;case"Home":N.focusFirst();break;case"End":N.focusLast();break}},pe={open:{height:"auto",visibility:"visible",transitionEnd:{overflow:"auto"}},closed:{height:0,overflow:"hidden",transitionEnd:{visibility:"hidden"}}},ke=()=>{const ge=h.indexOf(v);if(ge>-1){const re=[...h];re.splice(ge,1),g(re)}else g(y==="single"?[v]:[...h,v])},ne=e(mr,{"aria-hidden":"true",size:"md",className:A(s?"text-disabled":"text-muted",S&&"rotate-180 transition-transform")});return u("div",{className:A(b==="outline"?"border":"border-b",b==="outline"&&"rounded",s&&"text-disabled"),children:[u("h3",{className:A("flex items-center text-sm justify-between w-full",s&&"pointer-events-none",S&&"border-b",b==="outline"?S?"rounded-t":"rounded":void 0),children:[u("button",{disabled:s,"aria-expanded":S,id:F,"aria-controls":q,type:"button",ref:k,onKeyDown:Y,onClick:()=>{s||ke()},className:"flex items-center text-left gap-10 flex-auto pl-14 pr-10 py-10 hover:bg-hover outline-none focus-visible:bg-primary/focus",children:[c==="left"&&ne,i&&m.exports.cloneElement(i,{size:"md",className:A(i.props.className,s?"text-disabled":"text-muted")}),u("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:[a,l&&e("div",{className:"text-muted text-xs",children:l})]}),c==="right"&&ne]}),o&&e("div",{className:"flex-shrink-0 text-sm text-muted px-4",children:o})]}),e(ca.div,{id:q,"aria-labelledby":_,role:"region",variants:pe,initial:!1,animate:S?"open":"closed",children:e("div",{className:A("p-16",n),children:t})})]})}function Ei({filter:t}){return null}function Ai({filters:t}){const{decodedFilters:a}=za(t),{formId:s}=X(),[n,i]=m.exports.useState(()=>a.map(c=>c.key));return u(te,{size:"max-w-400",children:[e(se,{padding:"px-14 py-10",leftAdornment:e(w,{size:"xs",variant:"outline",className:"mr-auto",onClick:()=>{i([])},children:e(r,{message:"Clear"})}),rightAdornment:e(w,{size:"xs",variant:"flat",color:"primary",className:"ml-auto",type:"submit",form:s,children:e(r,{message:"Apply"})}),children:e(r,{message:"Filter"})}),e(ae,{padding:"p-0",children:e(Pi,{filters:t,expandedFilters:n,setExpandedFilters:i})})]})}function Pi({filters:t,expandedFilters:a,setExpandedFilters:s}){const{decodedFilters:n,replaceAll:i}=za(t),l={};t.forEach(h=>{const g=n.find(b=>b.key===h.key);l[h.key]=(g==null?void 0:g.value)!==void 0?{value:g.value,operator:g.operator}:{value:h.defaultValue,operator:h.defaultOperator}});const o=G({defaultValues:l}),{formId:c,close:d}=X();return e(de,{form:o,id:c,onSubmit:h=>{const g=Object.entries(h).filter(([b,v])=>a.includes(b)&&v!==void 0).map(([b,v])=>({key:b,...v}));i(g),d()},children:e(Ge,{mode:"multiple",expandedValues:a,onExpandedChange:s,children:t.map(h=>u(be,{startIcon:e(hr,{checked:a.includes(h.key)}),value:h.key,label:e(r,{...h.label}),children:[h.description&&e("div",{className:A("text-muted text-xs",h.type!==ie.BooleanToggle&&"mb-14"),children:e(r,{...h.description})}),e(zi,{filter:h})]},h.key))})})}function zi({filter:t}){switch(t.type){case ie.Select:return e(Yr,{filter:t});case ie.DatePicker:return e(Xr,{filter:t});case ie.SelectModel:return e(Jr,{filter:t});case ie.Input:return e(jr,{filter:t});case ie.BooleanToggle:return e(Ei,{filter:t})}}function Ti({filters:t}){const a=Ie();return u(M,{type:"popover",children:[a?e(L,{color:"primary",size:"sm",variant:"outline",radius:"rounded",className:"flex-shrink-0",children:e(ja,{})}):e(w,{variant:"outline",color:"primary",startIcon:e(ja,{}),size:"sm",className:"text-muted",children:e(r,{message:"Filter"})}),e(Ai,{filters:t})]})}function Fi({actions:t,filters:a}){const{trans:s}=O(),{params:n,setParams:i,searchPlaceholder:l}=gt();return u(Vs,{children:[e(ut,{className:"flex-auto max-w-440 mr-auto",inputWrapperClassName:"mr-24 md:mr-0",placeholder:s(l),startAdornment:e(Ta,{}),value:n.query||"",onChange:o=>{i({...n,query:o.target.value})}}),a&&e(Ti,{filters:a}),t]})}function Ii({actions:t}){const{selectedRows:a}=gt();return u(Vs,{children:[e("div",{className:"mr-auto",children:e(r,{message:"[one 1 item|other :count items] selected",values:{count:a.length}})}),t]})}function Vs({children:t}){return e("div",{className:"mb-24 flex items-center gap-8 md:gap-12 text-muted relative h-42",children:t})}function Os({filters:t,columns:a,searchPlaceholder:s,queryParams:n,endpoint:i,actions:l,selectedActions:o,emptyStateMessage:c,tableDomProps:d,onRowAction:h,enableSelection:g=!0}){var Y;const{trans:b}=O(),{encodedFilters:v}=za(t),[y,k]=m.exports.useState({perPage:15}),[S,N]=m.exports.useState([]),_=ki(i,{...y,...n,filters:v},{onSuccess:()=>{N([])}}),F=!!(y.query||y.filters||v),q=(Y=_.data)==null?void 0:Y.pagination;return s||(s=p("Type to search...")),u(Rs.Provider,{value:{selectedRows:S,setSelectedRows:N,endpoint:i,searchPlaceholder:s,params:y,setParams:k},children:[e(fs,{initial:!1,mode:"wait",children:S.length?e(Ii,{actions:o},"selected"):e(Fi,{actions:l,filters:t},"default")}),t&&e(Zr,{className:"mb-14",filters:t}),u("div",{className:"relative border rounded",children:[_.isLoading&&e(Ia,{isIndeterminate:!0,className:"absolute top-0 left-0 w-full z-10","aria-label":b({message:"Loading"}),size:"xs"}),e("div",{className:"relative overflow-x-auto md:overflow-hidden",children:e(ei,{...d,columns:a,data:(q==null?void 0:q.data)||[],sortDescriptor:y,onSortChange:pe=>{k({...y,...pe})},selectedRows:S,enableSelection:g,onSelectionChange:N,onAction:h})}),(_.isFetched||_.isPreviousData)&&!(q!=null&&q.data.length)?e("div",{className:"pt-50",children:m.exports.cloneElement(c,{isFiltering:F})}):void 0,e($i,{query:_})]})]})}function Ke({title:t,...a}){const s=m.exports.useId();return u("div",{className:"p-12 md:p-24",children:[t&&u(m.exports.Fragment,{children:[e(Kt,{children:t}),e("h1",{className:"text-3xl font-light mb-16",id:s,children:t})]}),e(Os,{...a,tableDomProps:{"aria-labelledby":t?s:void 0}})]})}function Mi(t,a){return z.delete(`${t}/${a.join(",")}`).then(s=>s.data)}function Li(){const{endpoint:t,selectedRows:a,setSelectedRows:s}=gt();return U(()=>Mi(t,a),{onSuccess:()=>{B(p("Deleted [one 1 record|other {count} records]",{values:{count:a.length}})),s([]),V.invalidateQueries(j(t))},onError:n=>le(n,p("Could not delete records"))})}function at(){const t=Li(),{selectedRows:a}=gt();return u(M,{type:"modal",onClose:s=>{s&&t.mutate()},children:[e(w,{variant:"flat",color:"danger",className:"ml-auto",disabled:t.isLoading,children:e(r,{message:"Delete"})}),e(Me,{title:e(r,{message:"Delete [one 1 item|other :count items]?",values:{count:a.length}}),body:e(r,{message:"This will permanently remove the items and cannot be undone."}),confirm:e(r,{message:"Delete"}),isDanger:!0})]})}function Pe({isFiltering:t,title:a,filteringTitle:s,image:n}){const i=Ie();return e(wa,{size:i?"sm":"md",image:e(Sa,{src:n}),title:t&&s?s:a,description:t&&s?e(r,{message:"Try another search query or different filters"}):void 0})}const Ct=""+new URL("team.de984127.svg",import.meta.url).href,st=R.forwardRef(({children:t,to:a,elementType:s,onClick:n},i)=>Ie()?e(L,{ref:i,variant:"flat",color:"primary",radius:"rounded",className:"flex-shrink-0",size:"sm",to:a,elementType:s,onClick:n,children:e(ve,{})}):e(w,{ref:i,startIcon:e(ve,{}),variant:"flat",color:"primary",size:"sm",to:a,elementType:s,onClick:n,children:t}));function Di(t){return U(()=>Ri(t),{onError:a=>le(a)})}function Ri(t){return z.post(t).then(a=>a.data)}function Vi(){const{close:t}=X();return u(te,{children:[e(se,{children:e(r,{message:"Csv export"})}),e(ae,{children:e(r,{message:"Your request is being processed. We'll email you when the report is ready to download. In certain cases, it might take a little longer, depending on the number of items beings exported and the volume of activity."})}),e(ye,{children:e(w,{variant:"flat",color:"primary",onClick:t,children:e(r,{message:"Got it"})})})]})}function Us({endpoint:t}){const[a,s]=m.exports.useState(!1),n=Di(t);return u(D,{children:[e(L,{variant:"outline",color:"primary",radius:"rounded",size:"sm",className:"flex-shrink-0",disabled:n.isLoading,onClick:()=>{n.mutate(void 0,{onSuccess:i=>{i.downloadPath?ti(i.downloadPath):s(!0)}})},children:e(ai,{})}),e(M,{type:"modal",isOpen:a,onOpenChange:s,children:e(Vi,{})})]})}const Ja=[{key:"name",allowsSorting:!0,sortingKey:"email",header:()=>e(r,{message:"User"}),body:t=>e(pt,{image:t.avatar,label:t.display_name,description:t.email})},{key:"subscribed",header:()=>e(r,{message:"Subscribed"}),body:t=>{var a;return(a=t.subscriptions)!=null&&a.length?e(bs,{className:"icon-md text-positive"}):e(qe,{className:"icon-md text-danger"})}},{key:"roles",header:()=>e(r,{message:"Roles"}),body:t=>e(si,{radius:"rounded",size:"xs",children:t.roles.map(a=>e(ua,{selectable:!0,children:e(K,{className:A("capitalize"),target:"_blank",to:`/admin/roles/${a.id}/edit`,children:a.name})},a.id))})},{key:"firstName",allowsSorting:!0,header:()=>e(r,{message:"First name"}),body:t=>t.first_name},{key:"lastName",allowsSorting:!0,header:()=>e(r,{message:"Last name"}),body:t=>t.last_name},{key:"createdAt",allowsSorting:!0,header:()=>e(r,{message:"Created at"}),body:t=>e(ue,{date:t.created_at})},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",body:t=>e(K,{to:`${t.id}/edit`,children:e(L,{size:"md",className:"text-muted",children:e(We,{})})})}];function Oi(){const{billing:t}=Ce();return t.enable||Ja.splice(1,1),e(m.exports.Fragment,{children:e(Ke,{endpoint:"users",title:e(r,{message:"Users"}),filters:Si,columns:Ja,actions:e(Ui,{}),queryParams:{with:"subscriptions"},selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Ct,title:e(r,{message:"No users have been created yet"}),filteringTitle:e(r,{message:"No matching users"})})})})}function Ui(){return u(m.exports.Fragment,{children:[e(Us,{endpoint:"users/csv/export"}),e(st,{elementType:K,to:"new",children:e(r,{message:"Add new user"})})]})}const Bi=t=>(a,s,n)=>{const i=n.subscribe;return n.subscribe=(o,c,d)=>{let h=o;if(c){const g=(d==null?void 0:d.equalityFn)||Object.is;let b=o(n.getState());h=v=>{const y=o(v);if(!g(b,y)){const k=b;c(b=y,k)}},d!=null&&d.fireImmediately&&c(b,b)}return i(h)},t(a,s,n)},qi=Bi;function Hi(t,a){return t.reduce((s,n,i)=>{const l=Math.floor(i/a);return s[l]||(s[l]=[]),s[l].push(n),s},[])}const Wi={preview:{defaultRoute:"/",navigationRoutes:[]},sections:{general:{label:p("General"),position:1,buildBreadcrumb:()=>[{label:p("General"),location:"general"}]},themes:{label:p("Themes"),position:2,buildBreadcrumb:(t,a)=>{var l;const s=t.split("/").filter(o=>!!o),[,,,n]=s,i=[{label:p("Themes"),location:"themes"}];return n!=null&&i.push({label:(l=a.appearance.themes.all[+n])==null?void 0:l.name,location:`themes/${n}`}),i}},menus:{label:p("Menus"),position:3,buildBreadcrumb:(t,a)=>{const s=t.split("/").filter(o=>!!o),[,,...n]=s,i=[{label:p("Menus"),location:"menus"}],l=Hi(n,2);return l.forEach(([o,c],d)=>{var h,g;if(o==="menus"&&c!=null)i.push({label:(h=a.settings.menus[+c])==null?void 0:h.name,location:`menus/${c}`});else if(o==="items"&&c!=null){const[,b]=l[d-1];i.push({label:(g=a.settings.menus[+b].items[+c])==null?void 0:g.label,location:`menus/${b}/${c}`})}}),i},config:{availableRoutes:["/login","/register","/contact","/billing/pricing","/account-settings","/admin","/admin/appearance","/admin/settings","/admin/plans","/admin/subscriptions","/admin/users","/admin/roles","/admin/pages","/admin/tags","/admin/files","/admin/localizations","/admin/ads","/admin/settings/authentication","/admin/settings/branding","/admin/settings/cache","/admin/settings/providers","/api-routes"],positions:["admin-navbar","admin-sidebar","custom-page-navbar","auth-page-footer","auth-dropdown","account-settings-page","billing-page","checkout-page-navbar","checkout-page-footer","pricing-table-page","contact-us-page","notifications-page"]}},"custom-code":{label:p("Custom Code"),position:4,buildBreadcrumb:()=>[{label:p("Custom code"),location:"custom-code"}]},"seo-settings":{label:p("Seo Settings"),position:5,buildBreadcrumb:()=>[{label:p("Seo"),location:"seo"}]}}};function Bs(){const t=m.exports.useRef(),a=Ga(l=>l.uploadSingle),s=Ga(l=>t.current?l.fileUploads.get(t.current):null),n=m.exports.useCallback((l,o)=>{t.current=a(l,o)},[a]),i=m.exports.useCallback(async l=>{var c;const o=await pr({types:(c=l==null?void 0:l.restrictions)==null?void 0:c.allowedFileTypes});n(o[0],l)},[n]);return{uploadFile:n,selectAndUploadFile:i,percentage:(s==null?void 0:s.percentage)||0,uploadStatus:s==null?void 0:s.status,entry:s==null?void 0:s.entry}}const Gi=2*1024*1024;function Ki({className:t,label:a,description:s,value:n,onChange:i,highlightSelector:l,defaultValue:o,diskPrefix:c}){const{selectAndUploadFile:d,entry:h,percentage:g,uploadStatus:b}=Bs(),v=n||(h==null?void 0:h.url),y=()=>{d({restrictions:{allowedFileTypes:[vs.image],maxFileSize:Gi},metadata:{diskPrefix:c,disk:zs.public},onSuccess:S=>{i==null||i(S.url)}})},k=e(w,{disabled:b==="inProgress",startIcon:b==="inProgress"&&e(Et,{size:"sm",value:g,"aria-label":"upload progress"}),variant:"outline",color:"primary",className:"w-full",onClick:()=>{y()},children:e(r,{message:"Select image"})});return u("div",{className:A("text-sm",t),onClick:()=>{I().preview.setHighlight(l)},children:[e("div",{children:a}),s&&e("div",{className:"text-muted mt-4",children:s}),e("div",{className:"mt-10",children:v?u("div",{children:[u("div",{className:"h-80 border rounded bg-chip p-6 relative overflow-hidden",children:[e("img",{className:"h-full mx-auto rounded object-contain",src:v,alt:""}),b==="inProgress"&&e(Ia,{value:g,size:"xs",className:"absolute left-0 bottom-0 w-full","aria-label":"upload progress"})]}),u("div",{className:"mt-10",children:[e(w,{onClick:()=>{y()},disabled:b==="inProgress",className:"mr-10",variant:"outline",color:"primary",size:"xs",children:e(r,{message:"Replace"})}),o&&e(w,{variant:"outline",color:"primary",size:"xs",onClick:()=>{i==null||i(o)},children:e(r,{message:"Use default"})})]})]}):k})]})}function At(t){const{field:{onChange:a,value:s=null}}=Ze({name:t.name});return e(Ki,{...He({onChange:a,value:s},t)})}function Qi(t){const{size:a="md",inline:s,label:n,showValueLabel:i=!!n,className:l,slider:o,children:c}=t,{domProps:d,trackRef:h,getThumbPercent:g,getThumbValueLabel:b,labelId:v,groupId:y,thumbIds:k,isDisabled:S,numberFormatter:N,minValue:_,maxValue:F,step:q,values:Y,getValueLabel:pe}=o;let ke="",ne=Math.max([...N.format(_)].length,[...N.format(F)].length,[...N.format(q)].length);pe?ke=pe(Y[0]):Y.length===1?ke=b(0):Y.length===2&&(ke=`${b(0)} \u2013 ${b(1)}`,ne=3+2*Math.max(ne,[...N.format(_)].length,[...N.format(F)].length));const ge=ka({size:a,disabled:S,labelDisplay:"flex"}),re=A("w-full flex-shrink-0 touch-none",l,{"flex items-center":s});return u("div",{className:re,role:"group",id:y,children:[u("div",{className:A(ge.label,"select-none"),children:[n&&e("label",{onClick:()=>{var Te;(Te=document.getElementById(k[0]))==null||Te.focus()},id:v,htmlFor:y,children:n}),i&&e("output",{htmlFor:k[0],className:"ml-auto text-right","aria-live":"off",style:ne?{width:`${ne}ch`,minWidth:`${ne}ch`}:void 0,children:ke})]}),u("div",{ref:h,className:"h-30 relative",...d,role:"presentation",children:[e("div",{className:`absolute inset-0 m-auto h-4 rounded ${S?"bg-disabled":"bg-primary-light"}`}),e("div",{className:`absolute inset-0 my-auto h-4 rounded ${S?"bg-disabled-fg":"bg-primary"}`,style:{width:`${g(0)*100}%`}}),c]})]})}function ji({minValue:t=0,maxValue:a=100,isDisabled:s=!1,step:n=1,formatOptions:i,onChangeEnd:l,label:o,getValueLabel:c,...d}){var qa;const h=hs(i),{addGlobalListener:g,removeGlobalListener:b}=ys(),v=m.exports.useRef(null),[y,k]=Gt(d.value?d.value:void 0,(qa=d.defaultValue)!=null?qa:[t],d.onChange),S=m.exports.useRef(null);S.current=y;const[N,_]=m.exports.useState(new Array(y.length).fill(!1)),F=m.exports.useRef(null);F.current=N;function q($){return h.format($)}const Y=$=>{var H;return((H=F.current)==null?void 0:H[$])||!1},pe=$=>q(y[$]),ke=$=>$===0?t:y[$-1],ne=$=>$===y.length-1?a:y[$+1],ge=($,H)=>{if(s||!aa($)||!S.current)return;const Ee=ke($),Le=ne($);H=gr(H,Ee,Le,n),S.current=Xa(S.current,$,H),k(S.current)},re=($,H)=>{var Le;if(s||!aa($))return;const Ee=(Le=F.current)==null?void 0:Le[$];F.current=Xa(F.current||[],$,H),_(F.current),l&&Ee&&!F.current.some(Boolean)&&l(S.current||[])},[Te,bt]=m.exports.useState(void 0),It=$=>($-t)/(a-t),vt=$=>It(S.current[$]),ta=($,H)=>{ge($,Va(H))},ce=$=>Math.round(($-t)/n)*n+t,Va=$=>{const H=$*(a-t)+t;return Ot(ce(H),t,a)},Oa=m.exports.useRef(new Array(y.length).fill(!0)),aa=$=>Oa.current[$],nr=($,H)=>{Oa.current[$]=H},fe=m.exports.useRef(null),Ua=m.exports.useRef(void 0),rr=$=>{if(!($.pointerType==="mouse"&&($.button!==0||$.altKey||$.ctrlKey||$.metaKey))&&v.current&&!s&&y.every((H,Ee)=>!N[Ee])){const H=v.current.offsetWidth,Ee=v.current.getBoundingClientRect().left,na=($.clientX-Ee)/H,Mt=Va(na);let Fe;const Qe=y.findIndex(ra=>Mt-ra<0);if(Qe===0)Fe=Qe;else if(Qe===-1)Fe=y.length-1;else{const ra=y[Qe-1],ur=y[Qe];Math.abs(ra-Mt)<Math.abs(ur-Mt)?Fe=Qe-1:Fe=Qe}Fe>=0&&aa(Fe)?($.preventDefault(),fe.current=Fe,bt(Fe),Ua.current=$.pointerId,re(fe.current,!0),ge(Fe,Mt),g(window,"pointerup",Ba,!1)):fe.current=null}},yt=m.exports.useRef(null),{domProps:ir}=ni({onPointerDown:rr,onMoveStart(){yt.current=null},onMove($,H){var Le;const Ee=((Le=v.current)==null?void 0:Le.offsetWidth)||0;if(yt.current==null&&(yt.current=vt(fe.current||0)*Ee),yt.current+=H,fe.current!=null&&v.current){const na=Ot(yt.current/Ee,0,1);ta(fe.current,na)}},onMoveEnd(){fe.current!=null&&(re(fe.current,!1),fe.current=null)}}),Ba=$=>{$.pointerId===Ua.current&&(fe.current!=null&&(re(fe.current,!1),fe.current=null),b(window,"pointerup",Ba,!1))},sa=m.exports.useId(),lr=o?`${sa}-label`:void 0,or=`${sa}-group`,cr=[...Array(y.length)].map(($,H)=>`${sa}-thumb-${H}`);return{domProps:ir,trackRef:v,isDisabled:s,step:n,values:y,minValue:t,maxValue:a,focusedThumb:Te,labelId:lr,groupId:or,thumbIds:cr,numberFormatter:h,getThumbPercent:vt,getThumbMinValue:ke,getThumbMaxValue:ne,getThumbValueLabel:pe,isThumbDragging:Y,setThumbValue:ge,updateDraggedThumbs:re,setThumbEditable:nr,setFocusedThumb:bt,getValueLabel:c}}function Xa(t,a,s){return t[a]===s?t:[...t.slice(0,a),s,...t.slice(a+1)]}function Ji({index:t,slider:a,isDisabled:s,ariaLabel:n,inputRef:i,onBlur:l}){const o=xs(i),{addGlobalListener:c,removeGlobalListener:d}=ys(),{step:h,values:g,focusedThumb:b,labelId:v,thumbIds:y,isDisabled:k,getThumbPercent:S,getThumbMinValue:N,getThumbMaxValue:_,getThumbValueLabel:F,setThumbValue:q,updateDraggedThumbs:Y,isThumbDragging:pe,setThumbEditable:ke,setFocusedThumb:ne}=a,ge=g[t];ke(t,!s);const re=s||k,Te=m.exports.useCallback(()=>{o.current&&o.current.focus({preventScroll:!0})},[o]),bt=b===t;m.exports.useEffect(()=>{bt&&Te()},[bt,Te]);const It=m.exports.useRef(void 0),vt=ce=>{ce.pointerId===It.current&&(Te(),Y(t,!1),d(window,"pointerup",vt,!1))},ta=A("outline-none rounded-full w-18 h-18 top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",!re&&"focus-within:ring focus-within:ring-primary-light shadow-md",Xi({isDisabled:re,isDragging:pe(t)}));return e("div",{role:"presentation",className:ta,style:{left:`${Math.max(S(t)*100,0)}%`},onPointerDown:ce=>{ce.button!==0||ce.altKey||ce.ctrlKey||ce.metaKey||(Te(),It.current=ce.pointerId,Y(t,!0),c(window,"pointerup",vt,!1))},children:e("input",{id:y[t],onKeyDown:Ha(()=>{Y(t,!0)}),onKeyUp:Ha(()=>{Y(t,!1)}),ref:o,tabIndex:re?void 0:0,min:N(t),max:_(t),step:h,value:ge,disabled:re,"aria-label":n,"aria-labelledby":v,"aria-orientation":"horizontal","aria-valuetext":F(t),onFocus:()=>{ne(t)},onBlur:ce=>{ne(void 0),Y(t,!1),l==null||l(ce)},onChange:ce=>{q(t,parseFloat(ce.target.value))},type:"range",className:"sr-only"})})}function Xi({isDisabled:t,isDragging:a}){return t?"bg-slider-disabled cursor-default":A("hover:bg-primary-dark",a?"bg-primary-dark":"bg-primary")}function Yi({inputRef:t,onBlur:a,...s}){const{onChange:n,onChangeEnd:i,value:l,defaultValue:o,...c}=s,d={...c,value:l!=null?[l]:void 0,defaultValue:o!=null?[o]:void 0,onChange:g=>{n==null||n(g[0])},onChangeEnd:g=>{i==null||i(g[0])}},h=ji(d);return e(Qi,{...d,slider:h,children:e(Ji,{index:0,slider:h,inputRef:t,onBlur:a})})}function Zi({name:t,...a}){const{field:{onChange:s,onBlur:n,value:i="",ref:l}}=Ze({name:t});return e(Yi,{inputRef:l,...He({onChange:s,onBlur:n,value:i||""},a)})}const Ae=m.exports.forwardRef(({startIcon:t,children:a,className:s,...n},i)=>u(ws,{ref:i,className:A("flex items-center gap-10 w-full rounded border text-sm h-54 px-14 mb-10 bg relative hover:bg-hover",s),variant:null,...n,children:[t,e("div",{children:a}),e(Pa,{className:"icon-sm text-muted ml-auto"})]})),qs=_e(e("path",{stroke:"#E0E0E0",d:"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z"}));function ft(){return(ft=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function Xt(t,a){if(t==null)return{};var s,n,i={},l=Object.keys(t);for(n=0;n<l.length;n++)a.indexOf(s=l[n])>=0||(i[s]=t[s]);return i}function _t(t){var a=m.exports.useRef(t),s=m.exports.useRef(function(n){a.current&&a.current(n)});return a.current=t,s.current}var $t=function(t,a,s){return a===void 0&&(a=0),s===void 0&&(s=1),t>s?s:t<a?a:t},kt=function(t){return"touches"in t},ma=function(t){return t&&t.ownerDocument.defaultView||self},Ya=function(t,a,s){var n=t.getBoundingClientRect(),i=kt(a)?function(l,o){for(var c=0;c<l.length;c++)if(l[c].identifier===o)return l[c];return l[0]}(a.touches,s):a;return{left:$t((i.pageX-(n.left+ma(t).pageXOffset))/n.width),top:$t((i.pageY-(n.top+ma(t).pageYOffset))/n.height)}},Za=function(t){!kt(t)&&t.preventDefault()},Hs=R.memo(function(t){var a=t.onMove,s=t.onKey,n=Xt(t,["onMove","onKey"]),i=m.exports.useRef(null),l=_t(a),o=_t(s),c=m.exports.useRef(null),d=m.exports.useRef(!1),h=m.exports.useMemo(function(){var y=function(N){Za(N),(kt(N)?N.touches.length>0:N.buttons>0)&&i.current?l(Ya(i.current,N,c.current)):S(!1)},k=function(){return S(!1)};function S(N){var _=d.current,F=ma(i.current),q=N?F.addEventListener:F.removeEventListener;q(_?"touchmove":"mousemove",y),q(_?"touchend":"mouseup",k)}return[function(N){var _=N.nativeEvent,F=i.current;if(F&&(Za(_),!function(Y,pe){return pe&&!kt(Y)}(_,d.current)&&F)){if(kt(_)){d.current=!0;var q=_.changedTouches||[];q.length&&(c.current=q[0].identifier)}F.focus(),l(Ya(F,_,c.current)),S(!0)}},function(N){var _=N.which||N.keyCode;_<37||_>40||(N.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},S]},[o,l]),g=h[0],b=h[1],v=h[2];return m.exports.useEffect(function(){return v},[v]),e("div",{...ft({},n,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:i,onKeyDown:b,tabIndex:0,role:"slider"})})}),Ma=function(t){return t.filter(Boolean).join(" ")},Ws=function(t){var a=t.color,s=t.left,n=t.top,i=n===void 0?.5:n,l=Ma(["react-colorful__pointer",t.className]);return e("div",{className:l,style:{top:100*i+"%",left:100*s+"%"},children:e("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:a}})})},ee=function(t,a,s){return a===void 0&&(a=0),s===void 0&&(s=Math.pow(10,a)),Math.round(s*t)/s},el=function(t){return rl(ha(t))},ha=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ee(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?ee(parseInt(t.substring(6,8),16)/255,2):1}},tl=function(t){return nl(sl(t))},al=function(t){var a=t.s,s=t.v,n=t.a,i=(200-a)*s/100;return{h:ee(t.h),s:ee(i>0&&i<200?a*s/100/(i<=100?i:200-i)*100:0),l:ee(i/2),a:ee(n,2)}},pa=function(t){var a=al(t);return"hsl("+a.h+", "+a.s+"%, "+a.l+"%)"},sl=function(t){var a=t.h,s=t.s,n=t.v,i=t.a;a=a/360*6,s/=100,n/=100;var l=Math.floor(a),o=n*(1-s),c=n*(1-(a-l)*s),d=n*(1-(1-a+l)*s),h=l%6;return{r:ee(255*[n,c,o,o,d,n][h]),g:ee(255*[d,n,n,c,o,o][h]),b:ee(255*[o,o,d,n,n,c][h]),a:ee(i,2)}},Lt=function(t){var a=t.toString(16);return a.length<2?"0"+a:a},nl=function(t){var a=t.r,s=t.g,n=t.b,i=t.a,l=i<1?Lt(ee(255*i)):"";return"#"+Lt(a)+Lt(s)+Lt(n)+l},rl=function(t){var a=t.r,s=t.g,n=t.b,i=t.a,l=Math.max(a,s,n),o=l-Math.min(a,s,n),c=o?l===a?(s-n)/o:l===s?2+(n-a)/o:4+(a-s)/o:0;return{h:ee(60*(c<0?c+6:c)),s:ee(l?o/l*100:0),v:ee(l/255*100),a:i}},il=R.memo(function(t){var a=t.hue,s=t.onChange,n=Ma(["react-colorful__hue",t.className]);return R.createElement("div",{className:n},R.createElement(Hs,{onMove:function(i){s({h:360*i.left})},onKey:function(i){s({h:$t(a+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ee(a),"aria-valuemax":"360","aria-valuemin":"0"},R.createElement(Ws,{className:"react-colorful__hue-pointer",left:a/360,color:pa({h:a,s:100,v:100,a:1})})))}),ll=R.memo(function(t){var a=t.hsva,s=t.onChange,n={backgroundColor:pa({h:a.h,s:100,v:100,a:1})};return R.createElement("div",{className:"react-colorful__saturation",style:n},R.createElement(Hs,{onMove:function(i){s({s:100*i.left,v:100-100*i.top})},onKey:function(i){s({s:$t(a.s+100*i.left,0,100),v:$t(a.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ee(a.s)+"%, Brightness "+ee(a.v)+"%"},R.createElement(Ws,{className:"react-colorful__saturation-pointer",top:1-a.v/100,left:a.s/100,color:pa(a)})))}),Gs=function(t,a){if(t===a)return!0;for(var s in t)if(t[s]!==a[s])return!1;return!0},ol=function(t,a){return t.toLowerCase()===a.toLowerCase()||Gs(ha(t),ha(a))};function cl(t,a,s){var n=_t(s),i=m.exports.useState(function(){return t.toHsva(a)}),l=i[0],o=i[1],c=m.exports.useRef({color:a,hsva:l});m.exports.useEffect(function(){if(!t.equal(a,c.current.color)){var h=t.toHsva(a);c.current={hsva:h,color:a},o(h)}},[a,t]),m.exports.useEffect(function(){var h;Gs(l,c.current.hsva)||t.equal(h=t.fromHsva(l),c.current.color)||(c.current={hsva:l,color:h},n(h))},[l,t,n]);var d=m.exports.useCallback(function(h){o(function(g){return Object.assign({},g,h)})},[]);return[l,d]}var ul=typeof window<"u"?m.exports.useLayoutEffect:m.exports.useEffect,dl=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},es=new Map,ml=function(t){ul(function(){var a=t.current?t.current.ownerDocument:document;if(a!==void 0&&!es.has(a)){var s=a.createElement("style");s.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,es.set(a,s);var n=dl();n&&s.setAttribute("nonce",n),a.head.appendChild(s)}},[])},hl=function(t){var a=t.className,s=t.colorModel,n=t.color,i=n===void 0?s.defaultColor:n,l=t.onChange,o=Xt(t,["className","colorModel","color","onChange"]),c=m.exports.useRef(null);ml(c);var d=cl(s,i,l),h=d[0],g=d[1],b=Ma(["react-colorful",a]);return u("div",{...ft({},o,{ref:c,className:b}),children:[e(ll,{hsva:h,onChange:g}),e(il,{hue:h.h,onChange:g,className:"react-colorful__last-control"})]})},pl={defaultColor:"000",toHsva:el,fromHsva:function(t){return tl({h:t.h,s:t.s,v:t.v,a:1})},equal:ol},gl=function(t){return e(hl,{...ft({},t,{colorModel:pl})})},fl=/^#?([0-9A-F]{3,8})$/i,bl=function(t){var a=t.color,s=a===void 0?"":a,n=t.onChange,i=t.onBlur,l=t.escape,o=t.validate,c=t.format,d=t.process,h=Xt(t,["color","onChange","onBlur","escape","validate","format","process"]),g=m.exports.useState(function(){return l(s)}),b=g[0],v=g[1],y=_t(n),k=_t(i),S=m.exports.useCallback(function(_){var F=l(_.target.value);v(F),o(F)&&y(d?d(F):F)},[l,d,o,y]),N=m.exports.useCallback(function(_){o(_.target.value)||v(l(s)),k(_)},[s,l,o,k]);return m.exports.useEffect(function(){v(l(s))},[s,l]),e("input",{...ft({},h,{value:c?c(b):b,spellCheck:"false",onChange:S,onBlur:N})})},ts=function(t){return"#"+t},vl=function(t){var a=t.prefixed,s=t.alpha,n=Xt(t,["prefixed","alpha"]),i=m.exports.useCallback(function(o){return o.replace(/([^0-9A-F]+)/gi,"").substring(0,s?8:6)},[s]),l=m.exports.useCallback(function(o){return function(c,d){var h=fl.exec(c),g=h?h[1].length:0;return g===3||g===6||!!d&&g===4||!!d&&g===8}(o,s)},[s]);return R.createElement(bl,ft({},n,{escape:i,format:a?ts:void 0,process:ts,validate:l}))};function yl(t){return t&&t.__esModule?t.default:t}var Ks={},Qs={};Qs={alpha:"\u0623\u0644\u0641\u0627",blue:"\u0623\u0632\u0631\u0642",brightness:"\u0627\u0644\u0633\u0637\u0648\u0639",green:"\u0623\u062E\u0636\u0631",hue:"\u062F\u0631\u062C\u0629 \u0627\u0644\u0644\u0648\u0646",lightness:"\u0627\u0644\u0625\u0636\u0627\u0621\u0629",red:"\u0623\u062D\u0645\u0631",saturation:"\u0627\u0644\u062A\u0634\u0628\u0639"};var js={};js={alpha:"\u0410\u043B\u0444\u0430",blue:"\u0421\u0438\u043D\u044C\u043E",brightness:"\u042F\u0440\u043A\u043E\u0441\u0442",green:"\u0417\u0435\u043B\u0435\u043D\u043E",hue:"\u041E\u0442\u0442\u0435\u043D\u044A\u043A",lightness:"\u041B\u0435\u043A\u043E\u0442\u0430",red:"\u0427\u0435\u0440\u0432\u0435\u043D\u043E",saturation:"\u041D\u0430\u0441\u0438\u0442\u0435\u043D\u043E\u0441\u0442"};var Js={};Js={alpha:"Alfa",blue:"Modr\xE1",brightness:"Jas",green:"Zelen\xE1",hue:"Odst\xEDn",lightness:"Sv\u011Btlost",red:"\u010Cerven\xE1",saturation:"Sytost"};var Xs={};Xs={alpha:"Alfa",blue:"Bl\xE5",brightness:"Lysstyrke",green:"Gr\xF8n",hue:"Tone",lightness:"Lyshed",red:"R\xF8d",saturation:"Farvem\xE6tning"};var Ys={};Ys={alpha:"Alpha",blue:"Blau",brightness:"Helligkeit",green:"Gr\xFCn",hue:"Farbton",lightness:"Leuchtkraft",red:"Rot",saturation:"S\xE4ttigung"};var Zs={};Zs={alpha:"\u0386\u03BB\u03C6\u03B1",blue:"\u039C\u03C0\u03BB\u03B5",brightness:"\u03A6\u03C9\u03C4\u03B5\u03B9\u03BD\u03CC\u03C4\u03B7\u03C4\u03B1",green:"\u03A0\u03C1\u03AC\u03C3\u03B9\u03BD\u03BF",hue:"\u03A4\u03CC\u03BD\u03BF\u03C2",lightness:"\u03A6\u03C9\u03C4\u03B5\u03B9\u03BD\u03CC\u03C4\u03B7\u03C4\u03B1",red:"\u039A\u03CC\u03BA\u03BA\u03B9\u03BD\u03BF",saturation:"\u039A\u03BF\u03C1\u03B5\u03C3\u03BC\u03CC\u03C2"};var en={};en={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha"};var tn={};tn={alpha:"Alpha",blue:"Azul",brightness:"Brillo",green:"Verde",hue:"Tono",lightness:"Luminosidad",red:"Rojo",saturation:"Saturaci\xF3n"};var an={};an={alpha:"Alfa",blue:"Sinine",brightness:"Heledus",green:"Roheline",hue:"V\xE4rv",lightness:"Valgus",red:"Punane",saturation:"K\xFCllastus"};var sn={};sn={alpha:"Alpha",blue:"Sininen",brightness:"Kirkkaus",green:"Vihre\xE4",hue:"S\xE4vy",lightness:"Valom\xE4\xE4r\xE4",red:"Punainen",saturation:"V\xE4rikyll\xE4isyys"};var nn={};nn={alpha:"Alpha",blue:"Bleu",brightness:"Luminosit\xE9",green:"Vert",hue:"Teinte",lightness:"Luminosit\xE9",red:"Rouge",saturation:"Saturation"};var rn={};rn={alpha:"\u05D0\u05DC\u05E4\u05D0",blue:"\u05DB\u05D7\u05D5\u05DC",brightness:"\u05D1\u05D4\u05D9\u05E8\u05D5\u05EA",green:"\u05D9\u05E8\u05D5\u05E7",hue:"\u05D2\u05D5\u05D5\u05DF",lightness:"\u05DB\u05DE\u05D5\u05EA \u05D0\u05D5\u05E8",red:"\u05D0\u05D3\u05D5\u05DD",saturation:"\u05E8\u05D5\u05D5\u05D9\u05D4"};var ln={};ln={alpha:"Alfa",blue:"Plava",brightness:"Svjetlina",green:"Zelena",hue:"Nijansa",lightness:"Osvijetljenost",red:"Crvena",saturation:"Zasi\u0107enost"};var on={};on={alpha:"Alfa",blue:"K\xE9k",brightness:"F\xE9nyess\xE9g",green:"Z\xF6ld",hue:"Sz\xEDn\xE1rnyalat",lightness:"Vil\xE1goss\xE1g",red:"Piros",saturation:"Tel\xEDtetts\xE9g"};var cn={};cn={alpha:"Alfa",blue:"Blu",brightness:"Luminosit\xE0",green:"Verde",hue:"Tonalit\xE0",lightness:"Luminosit\xE0",red:"Rosso",saturation:"Saturazione"};var un={};un={alpha:"\u30A2\u30EB\u30D5\u30A1",blue:"\u9752",brightness:"\u660E\u308B\u3055",green:"\u7DD1",hue:"\u8272\u76F8",lightness:"\u660E\u5EA6",red:"\u8D64",saturation:"\u5F69\u5EA6"};var dn={};dn={alpha:"\uC54C\uD30C",blue:"\uD30C\uB791",brightness:"\uBA85\uB3C4",green:"\uCD08\uB85D",hue:"\uC0C9\uC870",lightness:"\uBC1D\uAE30",red:"\uBE68\uAC15",saturation:"\uCC44\uB3C4"};var mn={};mn={alpha:"Alfa",blue:"M\u0117lyna",brightness:"Ry\u0161kumas",green:"\u017Dalia",hue:"Atspalvis",lightness:"\u0160viesumas",red:"Raudona",saturation:"\u012Esotinimas"};var hn={};hn={alpha:"Alfa",blue:"Zila",brightness:"Spilgtums",green:"Za\u013Ca",hue:"Nokr\u0101sa",lightness:"Gai\u0161ums",red:"Sarkana",saturation:"Pies\u0101tin\u0101jums"};var pn={};pn={alpha:"Alfa",blue:"Bl\xE5",brightness:"Lysstyrke",green:"Gr\xF8nn",hue:"Fargetone",lightness:"Lyshet",red:"R\xF8d",saturation:"Metning"};var gn={};gn={alpha:"Alfa",blue:"Blauw",brightness:"Helderheid",green:"Groen",hue:"Kleurtoon",lightness:"Lichtsterkte",red:"Rood",saturation:"Verzadiging"};var fn={};fn={alpha:"Alfa",blue:"Niebieski",brightness:"Jasno\u015B\u0107",green:"Zielony",hue:"Odcie\u0144",lightness:"Jaskrawo\u015B\u0107",red:"Czerwony",saturation:"Nasycenie"};var bn={};bn={alpha:"Alfa",blue:"Azul",brightness:"Brilho",green:"Verde",hue:"Matiz",lightness:"Luminosidade",red:"Vermelho",saturation:"Satura\xE7\xE3o"};var vn={};vn={alpha:"Alfa",blue:"Azul",brightness:"Luminosidade",green:"Verde",hue:"Tonalidade",lightness:"Claridade",red:"Vermelho",saturation:"Satura\xE7\xE3o"};var yn={};yn={alpha:"Alfa",blue:"Albastru",brightness:"Luminozitate",green:"Verde",hue:"Nuan\u021B\u0103",lightness:"Luminozitate",red:"Ro\u0219u",saturation:"Satura\u021Bie"};var xn={};xn={alpha:"\u0410\u043B\u044C\u0444\u0430",blue:"\u0421\u0438\u043D\u0438\u0439",brightness:"\u042F\u0440\u043A\u043E\u0441\u0442\u044C",green:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",hue:"\u041E\u0442\u0442\u0435\u043D\u043E\u043A",lightness:"\u041E\u0441\u0432\u0435\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u044C",red:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",saturation:"\u041D\u0430\u0441\u044B\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u044C"};var wn={};wn={alpha:"Alfa",blue:"Modr\xE1",brightness:"Jas",green:"Zelen\xE1",hue:"Odtie\u0148",lightness:"Svetlos\u0165",red:"\u010Cerven\xE1",saturation:"S\xFDtos\u0165"};var Sn={};Sn={alpha:"Alfa",blue:"Modra",brightness:"Svetlost",green:"Zelena",hue:"Barva",lightness:"Lahkost",red:"Rde\u010Da",saturation:"Nasi\u010Denost"};var kn={};kn={alpha:"Alfa",blue:"Plava",brightness:"Osvetljenost",green:"Zelena",hue:"Nijansa",lightness:"Osvetljenje",red:"Crvena",saturation:"Zasi\u0107enje"};var Nn={};Nn={alpha:"Alfa",blue:"Bl\xE5tt",brightness:"Ljusstyrka",green:"Gr\xF6nt",hue:"Nyans",lightness:"Ljushet",red:"R\xF6tt",saturation:"M\xE4ttnad"};var Cn={};Cn={alpha:"Alfa",blue:"Mavi",brightness:"Parlakl\u0131k",green:"Ye\u015Fil",hue:"Ton",lightness:"Canl\u0131l\u0131k",red:"K\u0131rm\u0131z\u0131",saturation:"Doygunluk"};var _n={};_n={alpha:"\u0410\u043B\u044C\u0444\u0430",blue:"\u0421\u0438\u043D\u0456\u0439",brightness:"\u042F\u0441\u043A\u0440\u0430\u0432\u0456\u0441\u0442\u044C",green:"\u0417\u0435\u043B\u0435\u043D\u0438\u0439",hue:"\u0422\u043E\u043D",lightness:"\u041E\u0441\u0432\u0456\u0442\u043B\u0435\u043D\u0456\u0441\u0442\u044C",red:"\u0427\u0435\u0440\u0432\u043E\u043D\u0438\u0439",saturation:"\u041D\u0430\u0441\u0438\u0447\u0435\u043D\u0456\u0441\u0442\u044C"};var $n={};$n={alpha:"Alpha",blue:"\u84DD\u8272",brightness:"\u4EAE\u5EA6",green:"\u7EFF\u8272",hue:"\u8272\u76F8",lightness:"\u660E\u4EAE\u5EA6",red:"\u7EA2\u8272",saturation:"\u9971\u548C\u5EA6"};var En={};En={alpha:"Alpha",blue:"\u85CD\u8272",brightness:"\u4EAE\u5EA6",green:"\u7DA0\u8272",hue:"\u8272\u76F8",lightness:"\u660E\u4EAE",red:"\u7D05\u8272",saturation:"\u98FD\u548C\u5EA6"};Ks={"ar-AE":Qs,"bg-BG":js,"cs-CZ":Js,"da-DK":Xs,"de-DE":Ys,"el-GR":Zs,"en-US":en,"es-ES":tn,"et-EE":an,"fi-FI":sn,"fr-FR":nn,"he-IL":rn,"hr-HR":ln,"hu-HU":on,"it-IT":cn,"ja-JP":un,"ko-KR":dn,"lt-LT":mn,"lv-LV":hn,"nb-NO":pn,"nl-NL":gn,"pl-PL":fn,"pt-BR":bn,"pt-PT":vn,"ro-RO":yn,"ru-RU":xn,"sk-SK":wn,"sl-SI":Sn,"sr-SP":kn,"sv-SE":Nn,"tr-TR":Cn,"uk-UA":_n,"zh-CN":$n,"zh-TW":En};const xl=new bi(yl(Ks));function nt(t){let a=De.parse(t)||Re.parse(t)||Ve.parse(t);if(a)return a;throw new Error("Invalid color value: "+t)}class La{toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(a){if(a in this)return this[a];throw new Error("Unsupported color channel: "+a)}withChannelValue(a,s){if(a in this){let n=this.clone();return n[a]=s,n}throw new Error("Unsupported color channel: "+a)}getChannelName(a,s){return xl.getStringForLocale(a,s)}getColorSpaceAxes(a){let{xChannel:s,yChannel:n}=a,i=s||this.getColorChannels().find(c=>c!==n),l=n||this.getColorChannels().find(c=>c!==i),o=this.getColorChannels().find(c=>c!==i&&c!==l);return{xChannel:i,yChannel:l,zChannel:o}}}class De extends La{static parse(a){let s=[];if(/^#[\da-f]+$/i.test(a)&&[4,5,7,9].includes(a.length)){const l=(a.length<6?a.replace(/[^#]/gi,"$&$&"):a).slice(1).split("");for(;l.length>0;)s.push(parseInt(l.splice(0,2).join(""),16));s[3]=s[3]!==void 0?s[3]/255:void 0}const n=a.match(/^rgba?\((.*)\)$/);n!=null&&n[1]&&(s=n[1].split(",").map(l=>Number(l.trim())),s=s.map((l,o)=>je(l,0,o<3?255:1)));var i;return s.length<3?void 0:new De(s[0],s[1],s[2],(i=s[3])!==null&&i!==void 0?i:1)}toString(a){switch(a){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+a)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const a=this.red/255,s=this.green/255,n=this.blue/255,i=Math.min(a,s,n),l=Math.max(a,s,n),o=l-i,c=l===0?0:o/l;let d=0;if(o!==0){switch(l){case a:d=(s-n)/o+(s<n?6:0);break;case s:d=(n-a)/o+2;break;case n:d=(a-s)/o+4;break}d/=6}return new Re(Q(d*360,2),Q(c*100,2),Q(l*100,2),this.alpha)}toHSL(){const a=this.red/255,s=this.green/255,n=this.blue/255,i=Math.min(a,s,n),l=Math.max(a,s,n),o=(l+i)/2,c=l-i;let d,h;if(c===0)d=h=0;else{switch(h=c/(o<.5?l+i:2-l-i),l){case a:d=(s-n)/c+(s<n?6:0);break;case s:d=(n-a)/c+2;break;case n:d=(a-s)/c+4;break}d/=6}return new Ve(Q(d*360,2),Q(h*100,2),Q(o*100,2),this.alpha)}clone(){return new De(this.red,this.green,this.blue,this.alpha)}getChannelRange(a){switch(a){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,s){let n,i=this.getChannelValue(a);switch(a){case"red":case"green":case"blue":n={style:"decimal"};break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+a)}return new Na(s,n).format(i)}getColorSpace(){return"rgb"}getColorChannels(){return De.colorChannels}constructor(a,s,n,i){super(),this.red=a,this.green=s,this.blue=n,this.alpha=i}}De.colorChannels=["red","green","blue"];const wl=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class Re extends La{static parse(a){let s;if(s=a.match(wl)){var n;const[i,l,o,c]=((n=s[1])!==null&&n!==void 0?n:s[2]).split(",").map(d=>Number(d.trim().replace("%","")));return new Re(An(i,360),je(l,0,100),je(o,0,100),je(c!=null?c:1,0,1))}}toString(a){switch(a){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${Q(this.saturation,2)}%, ${Q(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${Q(this.saturation,2)}%, ${Q(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+a)}}toHSL(){let a=this.saturation/100,s=this.brightness/100,n=s*(1-a/2);return a=n===0||n===1?0:(s-n)/Math.min(n,1-n),new Ve(Q(this.hue,2),Q(a*100,2),Q(n*100,2),this.alpha)}toRGB(){let a=this.hue,s=this.saturation/100,n=this.brightness/100,i=(l,o=(l+a/60)%6)=>n-s*n*Math.max(Math.min(o,4-o,1),0);return new De(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),this.alpha)}clone(){return new Re(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(a){switch(a){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,s){let n,i=this.getChannelValue(a);switch(a){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"brightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+a)}return new Na(s,n).format(i)}getColorSpace(){return"hsb"}getColorChannels(){return Re.colorChannels}constructor(a,s,n,i){super(),this.hue=a,this.saturation=s,this.brightness=n,this.alpha=i}}Re.colorChannels=["hue","saturation","brightness"];const Sl=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;function An(t,a){return(t%a+a)%a}class Ve extends La{static parse(a){let s;if(s=a.match(Sl)){var n;const[i,l,o,c]=((n=s[1])!==null&&n!==void 0?n:s[2]).split(",").map(d=>Number(d.trim().replace("%","")));return new Ve(An(i,360),je(l,0,100),je(o,0,100),je(c!=null?c:1,0,1))}}toString(a){switch(a){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${Q(this.saturation,2)}%, ${Q(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${Q(this.saturation,2)}%, ${Q(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+a)}}toHSB(){let a=this.saturation/100,s=this.lightness/100,n=s+a*Math.min(s,1-s);return a=n===0?0:2*(1-s/n),new Re(Q(this.hue,2),Q(a*100,2),Q(n*100,2),this.alpha)}toRGB(){let a=this.hue,s=this.saturation/100,n=this.lightness/100,i=s*Math.min(n,1-n),l=(o,c=(o+a/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return new De(Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255),this.alpha)}clone(){return new Ve(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(a){switch(a){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,s){let n,i=this.getChannelValue(a);switch(a){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"lightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+a)}return new Na(s,n).format(i)}getColorSpace(){return"hsl"}getColorChannels(){return Ve.colorChannels}constructor(a,s,n,i){super(),this.hue=a,this.saturation=s,this.lightness=n,this.alpha=i}}Ve.colorChannels=["hue","saturation","lightness"];nt("#ffffff");nt("hsl(0, 100%, 50%)");const kl=nt("#000000"),Nl=nt("#FFFFFF");kl.toHexInt();Nl.toHexInt();function Cl({onChange:t,value:a,colors:s}){const n=s.map(i=>{const l=a===i;return e(ws,{onClick:()=>{t==null||t(i)},className:A("relative block flex-shrink-0 w-26 h-26 border rounded",l&&"shadow-md"),style:{backgroundColor:i},children:l&&e("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},i)});return e("div",{className:"flex gap-6",children:n})}const _l=["rgb(0,0,0)","rgb(255, 255, 255)","rgb(242, 38, 19)","rgb(249, 105, 14)","rgb(253, 227, 167)","rgb(4, 147, 114)","rgb(30, 139, 195)","rgb(142, 68, 173)"];function $l({defaultValue:t,onChange:a,colorPresets:s,showInput:n}){const[i,l]=m.exports.useState(t),o=s||_l,c=ka({size:"sm"});return u("div",{children:[e(gl,{className:"!w-auto",color:i,onChange:d=>{a==null||a(d),l(d)}}),u("div",{className:"py-20 px-12",children:[o&&e(Cl,{colors:o,onChange:d=>{if(d){const h=nt(d).toString("hex");a==null||a(h),l(h)}},value:i}),n&&e("div",{className:"pt-20",children:e(vl,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:c.input,color:i,onChange:d=>{a==null||a(d),l(d)}})})]})]})}function Pn({defaultValue:t,onChange:a}){const{close:s}=X(),[n,i]=m.exports.useState(t||""),l=m.exports.useRef(t);return u(te,{size:"w-auto",children:[e($l,{defaultValue:n,onChange:o=>{i(o),a==null||a(o)},showInput:!0}),u(ye,{dividerTop:!0,children:[e(w,{variant:"text",size:"xs",onClick:()=>{s(l.current)},children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",size:"xs",onClick:()=>{s(n)},children:e(r,{message:"Apply"})})]})]})}function El(){return u(m.exports.Fragment,{children:[e(Al,{}),u("div",{className:"my-24 py-24 border-y",children:[e(Ae,{to:"action-buttons",elementType:K,className:"mb-20",children:e(r,{message:"Action buttons"})}),e(Ae,{to:"primary-features",elementType:K,children:e(r,{message:"Primary features"})}),e(Ae,{to:"secondary-features",elementType:K,children:e(r,{message:"Secondary features"})})]}),e(Pl,{})]})}function Al(){const t=rt(a=>{var s,n;return(n=(s=a.defaults)==null?void 0:s.settings.homepage.appearance)==null?void 0:n.headerImage});return u(D,{children:[e(f,{label:e(r,{message:"Header title"}),className:"mb-20",name:"settings.homepage.appearance.headerTitle",onFocus:()=>{I().preview.setHighlight('[data-testid="headerTitle"]')}}),e(f,{label:e(r,{message:"Header subtitle"}),className:"mb-30",inputElementType:"textarea",rows:4,name:"settings.homepage.appearance.headerSubtitle",onFocus:()=>{I().preview.setHighlight('[data-testid="headerSubtitle"]')}}),e(At,{name:"settings.homepage.appearance.headerImage",className:"mb-30",label:e(r,{message:"Header image"}),highlightSelector:'[data-testid="headerImage"]',defaultValue:t,diskPrefix:"homepage"}),e(Zi,{name:"settings.homepage.appearance.headerImageOpacity",label:e(r,{message:"Header image opacity"}),minValue:0,step:.1,maxValue:1,formatOptions:{style:"percent"}}),e("div",{className:"text-muted text-xs mb-20",children:e(r,{message:"In order for overlay colors to appear, header image opacity will need to be less then 100%"})}),e(as,{formKey:"settings.homepage.appearance.headerOverlayColor1",label:e(r,{message:"Header overlay color 1"})}),e(as,{formKey:"settings.homepage.appearance.headerOverlayColor2",label:e(r,{message:"Header overlay color 2"})})]})}function Pl(){const t=rt(a=>{var s,n;return(n=(s=a.defaults)==null?void 0:s.settings.homepage.appearance)==null?void 0:n.footerImage});return u(m.exports.Fragment,{children:[e(f,{label:e(r,{message:"Footer title"}),className:"mb-20",name:"settings.homepage.appearance.footerTitle",onFocus:()=>{I().preview.setHighlight('[data-testid="footerTitle"]')}}),e(f,{label:e(r,{message:"Footer subtitle"}),className:"mb-20",name:"settings.homepage.appearance.footerSubtitle",onFocus:()=>{I().preview.setHighlight('[data-testid="footerSubtitle"]')}}),e(At,{name:"settings.homepage.appearance.footerImage",className:"mb-30",label:e(r,{message:"Footer background image"}),highlightSelector:'[data-testid="footerImage"]',defaultValue:t,diskPrefix:"homepage"})]})}function as({label:t,formKey:a}){const s=a,{watch:n,setValue:i}=E(),l=n(s),o=c=>{i(a,c,{shouldDirty:!0})};return u(M,{type:"popover",onClose:c=>{o(c)},children:[e(Ae,{className:"capitalize",startIcon:e(qs,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:l}}),children:t}),e(Pn,{defaultValue:l,onChange:c=>{o(c)}})]})}function Yt({children:t,...a}){const{field:{onChange:s,onBlur:n,value:i=[],ref:l},fieldState:{invalid:o,error:c}}=Ze({name:a.name}),d={onChange:s,onBlur:n,value:i,invalid:o,errorMessage:c==null?void 0:c.message};return e(Ts,{ref:l,...He(d,a),children:t})}function zn(t){return t&&t.charAt(0).toUpperCase()+t.slice(1)}const zl=R.forwardRef(({valueListKey:t="permissions",...a},s)=>{const{data:n}=ze([t]),i=(n==null?void 0:n.permissions)||(n==null?void 0:n.workspacePermissions),[l,o]=Gt(a.value,[],a.onChange),[c,d]=m.exports.useState(!1);if(!i)return null;const h=Tn(i,l,c),g=b=>{const v=[...l],y=v.findIndex(k=>k.id===b.id);y>-1&&v.splice(y,1,b),o(v)};return u(m.exports.Fragment,{children:[e(Ge,{variant:"outline",ref:s,children:h.map(({groupName:b,items:v,anyChecked:y})=>e(be,{label:Bt(b),startIcon:y?e(fr,{size:"sm"}):void 0,children:e(Fs,{children:v.map(k=>{const S=l.findIndex(_=>_.id===k.id),N=S>-1;return u("div",{children:[e(Is,{onSelected:()=>{if(N){const _=[...l];_.splice(S,1),o(_)}else o([...l,k])},endSection:e(da,{tabIndex:-1,checked:N,onChange:()=>{}}),description:k.description,children:k.display_name||k.name}),N&&e(Tl,{permission:k,onChange:g})]},k.id)})})},b))}),e(da,{className:"mt-30",checked:c,onChange:b=>{d(b.target.checked)},children:e(r,{message:"Show advanced permissions"})})]})});function Tl({permission:t,onChange:a}){var n;if(!((n=t==null?void 0:t.restrictions)!=null&&n.length))return null;const s=(i,l)=>{const o=br(t,c=>{const d=c.restrictions.find(h=>h.name===i);d&&(d.value=l)});a==null||a(o)};return e("div",{className:"px-40 py-20",children:t.restrictions.map((i,l)=>{const o=l===t.restrictions.length-1;return i.type==="bool"?e(da,{description:i.description,className:A(!o&&"mb-30"),checked:Boolean(i.value),onChange:c=>{s(i.name,c.target.checked)},children:Bt(i.name)},i.name):e(ut,{size:"sm",label:Bt(i.name),description:i.description,type:"number",className:A(!o&&"mb-30"),value:i.value||"",onChange:c=>{s(i.name,c.target.value===""?void 0:parseInt(c.target.value))}},i.name)})})}function Da(t){const{field:{onChange:a,value:s=[],ref:n}}=Ze({name:t.name});return e(zl,{ref:n,...He({onChange:a,value:s},t)})}const Bt=t=>zn(t.replace("_"," "));function Tn(t,a,s){const n=[];return t.forEach(i=>{const l=a.findIndex(c=>c.id===i.id);if(!s&&i.advanced)return;let o=n.find(c=>c.groupName===i.group);if(o||(o={groupName:i.group,anyChecked:!1,items:[]},n.push(o)),l>-1){const c={...i,restrictions:Fl(i.restrictions,a[l].restrictions)};o.anyChecked=!0,o.items.push(c)}else o.items.push(i)}),n}function Fl(t,a){return t==null?void 0:t.map(s=>{const n=a.find(i=>i.name===s.name);return n?{...s,value:n.value}:s})}function Fn(){const t=Mn.sections.menus.config;return t?t.availableRoutes.map(a=>({id:a,label:a,action:a,type:"route",target:"_self"})):[]}const ia={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},Il=[...Array(60).keys()],Ml=R.lazy(()=>Qt(()=>import("./icon-list.b66d448a.js"),["icon-list.b66d448a.js","main.2bad25cd.js","main.4a7787f5.css","date-picker.d8be8944.js","Edit.2aa2741b.js","index.b7375da4.js","ArrowBack.da4c6dca.js","Info.6e21f778.js","OpenInNew.f50b2336.js","UnfoldLess.d46bce89.js","TaskAlt.11c90068.js","use-resume-subscription.985ade8a.js"],import.meta.url));function Ll({onIconSelected:t}){const{trans:a}=O(),[s,n]=R.useState("");return u("div",{className:"py-4",children:[e(ut,{className:"mb-20",value:s,onChange:i=>{n(i.target.value)},placeholder:a({message:"Search icons..."})}),e(fs,{mode:"wait",children:e(m.exports.Suspense,{fallback:e(ca.div,{...Wa,className:ia.grid,children:Il.map((i,l)=>e("div",{className:ia.button,children:e(vr,{variant:"rect"})},l))}),children:e(ca.div,{...Wa,className:ia.grid,children:e(Ml,{searchQuery:s,onIconSelected:t})})})})]})}function Dl(){return u(te,{size:"w-850",className:"min-h-dialog",children:[e(se,{children:e(r,{message:"Select icon"})}),e(ae,{children:e(Rl,{})})]})}function Rl(){const{close:t}=X();return e(Ll,{onIconSelected:a=>{t(a)}})}function Vl(t){const a=m.exports.useRef();return m.exports.useEffect(()=>{a.current=t},[t]),a.current}function lt({formPathPrefix:t,hideRoleAndPermissionFields:a}){const{trans:s}=O(),n=i=>t?`${t}.${i}`:i;return u(m.exports.Fragment,{children:[e(f,{className:"mb-20",name:n("label"),label:e(r,{message:"Label"}),placeholder:s(p("No label...")),startAppend:e(Ol,{prefixName:n})}),e(Ul,{prefixName:n}),!a&&u(m.exports.Fragment,{children:[e(Bl,{prefixName:n}),e(ql,{prefixName:n})]}),e(Hl,{prefixName:n})]})}function Ol({prefixName:t,...a}){const{watch:s,setValue:n}=E(),i=t("icon"),l=s(i),o=l&&Ss(l);return u(M,{type:"modal",onClose:c=>{(c||c===null)&&n(i,c,{shouldDirty:!0})},children:[e(L,{className:"text-muted icon-sm",variant:"outline",size:"md",...a,children:o?e(o,{}):e(We,{})}),e(Dl,{})]})}function Ul({prefixName:t}){const a=E(),s=a.watch(t("type")),n=Vl(s),{data:i}=ze(["menuItemCategories"]),l=(i==null?void 0:i.menuItemCategories)||[],o=l.find(h=>h.type===s),{trans:c}=O(),d=Fn();return m.exports.useEffect(()=>{n&&n!==s&&a.setValue(t("action"),"")},[s,n,a,t]),u(m.exports.Fragment,{children:[u(Z,{className:"mb-20",name:t("type"),selectionMode:"single",label:e(r,{message:"Type"}),children:[e(x,{value:"link",children:e(r,{message:"Custom link"})}),e(x,{value:"route",children:e(r,{message:"Site page"})}),l.map(h=>e(x,{value:h.type,children:h.name},h.type))]}),s==="link"&&e(f,{className:"mb-20",required:!0,type:"url",name:t("action"),placeholder:c({message:"Enter a url..."}),label:e(r,{message:"Url"})}),s==="route"&&e(ot,{className:"mb-20",required:!0,items:d,name:t("action"),openMenuOnFocus:!0,label:e(r,{message:"Page"}),children:h=>e(x,{value:h.id,children:h.label},h.id)}),o&&e(ot,{className:"mb-20",required:!0,items:o.items,name:t("action"),openMenuOnFocus:!0,label:o.name,children:h=>e(x,{value:h.action,children:h.label})})]})}function Bl({prefixName:t}){const{data:a}=ze(["roles","permissions"]),s=(a==null?void 0:a.roles)||[],{trans:n}=O();return e(Yt,{className:"mb-20",placeholder:n({message:"Add role..."}),label:e(r,{message:"Only show if user has role"}),name:t("roles"),chipSize:"sm",suggestions:s,valueKey:"id",displayWith:i=>{var l;return(l=s.find(o=>o.id===i.id))==null?void 0:l.name},children:i=>e(x,{value:i.id,capitalizeFirst:!0,children:i.name},i.id)})}function ql({prefixName:t}){const{data:a}=ze(["roles","permissions"]),{trans:s}=O(),n=m.exports.useMemo(()=>Tn((a==null?void 0:a.permissions)||[],[],!1),[a==null?void 0:a.permissions]);return e(Yt,{label:e(r,{message:"Only show if user has permissions"}),placeholder:s({message:"Add permission..."}),chipSize:"sm",suggestions:n,name:t("permissions"),valueKey:"name",children:({groupName:i,items:l})=>e(ks,{label:Bt(i),children:l.map(o=>e(x,{value:o.name,description:o.description,children:o.display_name||o.name},o.name))},i)})}function Hl({prefixName:t}){return E().watch("type")!=="link"?null:u(Z,{selectionMode:"single",name:t("target"),label:e(r,{message:"Open link in"}),children:[e(x,{value:"_self",children:e(r,{message:"Same window"})}),e(x,{value:"_blank",children:e(r,{message:"New window"})})]})}function Wl(){const[t,a]=m.exports.useState(["cta1"]);return u(Ge,{variant:"outline",expandedValues:t,onExpandedChange:s=>{a(s),s.length&&I().preview.setHighlight(`[data-testid="${s[0]}"]`)},children:[e(be,{value:"cta1",label:e(r,{message:"Header button 1"}),children:e(lt,{formPathPrefix:"settings.homepage.appearance.actions.cta1"})}),e(be,{value:"ct2",label:e(r,{message:"Header button 2"}),children:e(lt,{formPathPrefix:"settings.homepage.appearance.actions.cta2"})}),e(be,{value:"cta3",label:e(r,{message:"Footer button"}),children:e(lt,{formPathPrefix:"settings.homepage.appearance.actions.cta3"})})]})}function Gl(){const{fields:t,remove:a,append:s}=xe({name:"settings.homepage.appearance.primaryFeatures"}),[n,i]=m.exports.useState([0]);return u("div",{children:[e(Ge,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&I().preview.setHighlight(`[data-testid="primary-root-${l[0]}"]`)},children:t.map((l,o)=>u(be,{value:o,label:e(r,{message:`Primary feature ${o+1}`}),children:[e(Kl,{index:o}),e("div",{className:"text-right",children:e(w,{size:"xs",variant:"outline",color:"danger",onClick:()=>{a(o)},children:e(r,{message:"Remove"})})})]},l.id))}),e("div",{className:"mt-20 text-right",children:e(w,{size:"xs",variant:"outline",color:"primary",startIcon:e(ve,{}),onClick:()=>{s({}),i([t.length])},children:e(r,{message:"Add feature"})})})]})}function Kl({index:t}){const a=rt(s=>{var n,i,l;return(l=(i=(n=s.defaults)==null?void 0:n.settings.homepage.appearance)==null?void 0:i.primaryFeatures[t])==null?void 0:l.image});return u(D,{children:[e(At,{name:`settings.homepage.appearance.primaryFeatures.${t}.image`,className:"mb-30",label:e(r,{message:"Image"}),highlightSelector:`[data-testid="primary-image-${t}"]`,defaultValue:a,diskPrefix:"homepage"}),e(f,{name:`settings.homepage.appearance.primaryFeatures.${t}.title`,label:e(r,{message:"Title"}),className:"mb-20",onFocus:()=>{I().preview.setHighlight(`[data-testid="primary-title-${t}"]`)}}),e(f,{name:`settings.homepage.appearance.primaryFeatures.${t}.subtitle`,label:e(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{I().preview.setHighlight(`[data-testid="primary-subtitle-${t}"]`)}})]})}function Ql(){const{fields:t,remove:a,append:s}=xe({name:"settings.homepage.appearance.secondaryFeatures"}),[n,i]=m.exports.useState([0]);return u("div",{children:[e(Ge,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&I().preview.setHighlight(`[data-testid="secondary-root-${l[0]}"]`)},children:t.map((l,o)=>u(be,{value:o,label:e(r,{message:`Secondary feature ${o+1}`}),children:[e(jl,{index:o}),e("div",{className:"text-right",children:e(w,{size:"xs",variant:"outline",color:"danger",onClick:()=>{a(o)},children:e(r,{message:"Remove"})})})]},l.id))}),e("div",{className:"mt-20 text-right",children:e(w,{size:"xs",variant:"outline",color:"primary",startIcon:e(ve,{}),onClick:()=>{s({}),i([t.length])},children:e(r,{message:"Add feature"})})})]})}function jl({index:t}){return u(D,{children:[e(At,{name:`settings.homepage.appearance.secondaryFeatures.${t}.image`,className:"mb-30",label:e(r,{message:"Image"}),highlightSelector:`[data-testid="secondary-image-${t}"]`,defaultValue:Jl(t),diskPrefix:"homepage"}),e(f,{name:`settings.homepage.appearance.secondaryFeatures.${t}.title`,label:e(r,{message:"Title"}),className:"mb-20",onFocus:()=>{I().preview.setHighlight(`[data-testid="secondary-title-${t}"]`)}}),e(f,{name:`settings.homepage.appearance.secondaryFeatures.${t}.subtitle`,label:e(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{I().preview.setHighlight(`[data-testid="secondary-subtitle-${t}"]`)}}),e(f,{name:`settings.homepage.appearance.secondaryFeatures.${t}.description`,label:e(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{I().preview.setHighlight(`[data-testid="secondary-description-${t}"]`)}})]})}function Jl(t){var a,s;return(s=((a=I().defaults)==null?void 0:a.settings.homepage.appearance).secondaryFeatures[t])==null?void 0:s.image}const In={preview:{defaultRoute:"drive",navigationRoutes:["s","drive"]},sections:{"landing-page":{label:p("Landing Page"),position:1,previewRoute:"/",routes:u(m.exports.Fragment,{children:[e(C,{path:"landing-page",element:e(El,{})}),e(C,{path:"landing-page/action-buttons",element:e(Wl,{})}),e(C,{path:"landing-page/primary-features",element:e(Gl,{})}),e(C,{path:"landing-page/secondary-features",element:e(Ql,{})})]},"landing-page-routes"),buildBreadcrumb:(t,a)=>{const n=t.split("/").filter(l=>!!l).pop(),i=[{label:p("Landing page"),location:"landing-page"}];return n==="action-buttons"&&i.push({label:p("Action buttons"),location:"landing-page/action-buttons"}),n==="primary-features"&&i.push({label:p("Primary features"),location:"landing-page/primary-features"}),n==="secondary-features"&&i.push({label:p("Secondary features"),location:"landing-page/secondary-features"}),i}},menus:{config:{positions:["drive-navbar","drive-sidebar","homepage-navbar","shareable-link-page","footer","footer-secondary"],availableRoutes:["/drive","/drive/shares","/drive/recent","/drive/starred","/drive/trash","/drive/workspaces"]}}}},Mn=yr.all([Wi,In]),rt=xr()(qi(wr((t,a)=>({defaults:null,iframeWindow:null,config:Mn,setDefaults:s=>{t(n=>{n.defaults={...s}})},setIframeWindow:s=>{t(()=>({iframeWindow:s}))},preview:{navigate:s=>{var o;const n=(o=a().config)==null?void 0:o.sections[s],i=(n==null?void 0:n.previewRoute)||"/",l=a().iframeWindow;i&&xt(l,{type:"navigate",to:i})},setValues:s=>{const n=a().iframeWindow;xt(n,{type:"setValues",values:s})},setThemeColor:(s,n)=>{const i=a().iframeWindow;xt(i,{type:"setThemeColor",name:s,value:n})},setActiveTheme:s=>{const n=a().iframeWindow;xt(n,{type:"setActiveTheme",themeId:s})},setCustomCode:(s,n)=>{const i=a().iframeWindow;xt(i,{type:"setCustomCode",mode:s,value:n})},setHighlight:s=>{t(()=>{var l;let n=null;const i=(l=a().iframeWindow)==null?void 0:l.document;i&&s&&(n=i.querySelector(s)),n&&requestAnimationFrame(()=>{!n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})})}}}))));function xt(t,a){t&&t.postMessage({source:"be-appearance-editor",...a},"*")}function I(){return rt.getState()}function Xl(t){return z.post("admin/appearance",{changes:t}).then(a=>a.data)}function Ln(){return U(t=>Xl(t),{onSuccess:()=>{B("Changes saved")},onError:t=>le(t)})}function Yl(){return Be(["admin/appearance/values"],()=>Zl(),{staleTime:1/0})}function Zl(){return z.get("admin/appearance/values").then(t=>t.data)}function eo(){const{pathname:t}=Ca(),{getValues:a}=E(),[s,n]=m.exports.useState(null);return m.exports.useEffect(()=>{var l;const[,,i]=t.split("/").filter(o=>!!o);if(i){const o=(l=I().config)==null?void 0:l.sections[i];if(o){n([{label:p("Appearance"),location:""},...o.buildBreadcrumb(t,a())]);return}}n(null)},[t,a]),!s||s.length<2?null:u("div",{className:"flex items-center border-b h-60 flex-shrink-0",children:[e(L,{iconSize:"md",radius:"rounded-none",className:"text-muted h-full w-50 flex-shrink-0",elementType:K,to:`/admin/appearance/${s[s.length-2].location}`,children:e(Ps,{})}),u("div",{className:"border-l p-10 min-w-0",children:[e("div",{className:"text-xs text-muted",children:e(r,{message:"Customizing"})}),e("div",{className:"flex items-center gap-4 text-sm mt-2",children:s.map((i,l)=>{const o=s.length-1===l,c=l===0,d=e(Sr,{value:i.label});return c?null:u(m.exports.Fragment,{children:[e("div",{className:A("whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0",o&&"text-primary",o?"flex-shrink-0":"flex-auto"),children:d}),!o&&e(Pa,{className:"icon-sm text-muted flex-shrink-0"})]},l)})})]})]})}function to(){const{isAppearanceEditorActive:t}=kr(),{data:a}=Yl(),{base_url:s}=Ce(),n=m.exports.useRef(null),{pathname:i}=Ca(),l=Ie();return m.exports.useEffect(()=>{(a==null?void 0:a.defaults)&&!I().defaults&&I().setDefaults(a.defaults)},[a]),m.exports.useEffect(()=>{n.current&&I().setIframeWindow(n.current.contentWindow)},[]),m.exports.useEffect(()=>{const o=i.split("/")[3];I().preview.navigate(o)},[i]),t?e(Ns,{to:"/admin"}):u("div",{className:"md:flex items-center h-full",children:[e(Kt,{children:e(r,{message:"Appearance"})}),e(ao,{values:a==null?void 0:a.values}),e("div",{className:"flex-auto h-full relative",children:e("iframe",{ref:n,className:A("w-full h-full",l&&"hidden"),src:`${s}?appearanceEditor=true`})})]})}function ao({values:t}){const a=e("div",{className:"flex items-center justify-center flex-auto h-full",children:e(Et,{isIndeterminate:!0,"aria-label":"Loading editor"})});return e(m.exports.Fragment,{children:e("div",{className:"bg relative w-full md:w-320 shadow-lg border-r h-full z-10",children:t?e(so,{defaultValues:t}):a})})}function so({defaultValues:t}){const a=G({defaultValues:t}),{watch:s,reset:n}=a,i=Ln();return m.exports.useEffect(()=>{const l=s(o=>{I().preview.setValues(o)});return()=>l.unsubscribe()},[s]),u(de,{className:"h-full flex flex-col",form:a,onSubmit:l=>{i.mutate(l,{onSuccess:()=>n(l)})},children:[e(no,{}),e(eo,{}),e("div",{className:"px-14 py-20 flex-auto overflow-y-auto",children:e(Ms,{children:e(xa,{})})})]})}function no(){const t=Ln(),{formState:{dirtyFields:a}}=E(),s=Object.keys(a).length;return u("div",{className:"border-b flex items-center h-50 pr-10 flex-shrink-0",children:[e(L,{border:"border-r",className:"text-muted",elementType:K,to:"..",children:e(qe,{})}),e("div",{className:"pl-10",children:e(r,{message:"Appearance editor"})}),e(w,{variant:"flat",color:"primary",className:"block ml-auto",disabled:!s||t.isLoading,type:"submit",children:s?e(r,{message:"Save"}):e(r,{message:"Saved"})})]})}function ro(){const t=et(),{trans:a}=O(),{fields:s,append:n}=xe({name:"settings.menus",keyName:"key"});return u(m.exports.Fragment,{children:[e("div",{children:s.map((i,l)=>e(Ae,{to:`${l}`,elementType:K,children:i.name},i.key))}),e("div",{className:"text-right",children:e(w,{variant:"outline",color:"primary",startIcon:e(ve,{}),size:"xs",onClick:()=>{const i=Nr(10);n({name:a(p("New menu :number",{values:{number:s.length+1}})),id:i,positions:[],items:[]}),t(`${s.length}`)},children:e(r,{message:"Create menu"})})})]})}function Dn({title:t=e(r,{message:"Add menu item"})}){const{data:a}=ze(["menuItemCategories"]),s=(a==null?void 0:a.menuItemCategories)||[],n=Fn();return u(te,{size:"sm",children:[e(se,{children:t}),e(ae,{children:u(Ge,{variant:"outline",children:[e(be,{label:e(r,{message:"Link"}),bodyClassName:"max-h-240 overflow-y-auto",children:e(io,{})}),e(be,{label:e(r,{message:"Route"}),bodyClassName:"max-h-240 overflow-y-auto",children:e(ss,{items:n})}),s.map(i=>e(be,{label:i.name,children:e(ss,{items:i.items})},i.name))]})})]})}function io(){const t=G(),{close:a}=X();return u(de,{form:t,onSubmit:s=>{a(s)},children:[e(f,{required:!0,name:"label",label:e(r,{message:"Label"}),className:"mb-20"}),e(f,{required:!0,type:"url",name:"action",placeholder:"Https://",label:e(r,{message:"Url"}),className:"mb-20"}),e("div",{className:"text-right",children:e(w,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e(r,{message:"Add to menu"})})})]})}function ss({items:t}){const{close:a}=X();return e(Fs,{children:t.map(s=>e(Is,{startIcon:e(ve,{size:"sm"}),onSelected:()=>{if(s.label){const n=s.label.split("/").pop();s.label=n?zn(n):s.label,s.id=ri(6)}a(s)},children:s.label},s.id))})}const lo=_e(e("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorOutlined"),oo=""+new URL("dropdown-menu.c9b3bd6a.svg",import.meta.url).href;function co(t,a,s){const n=Ot(a,0,t.length-1),i=Ot(s,0,t.length-1);if(n===i)return t;const l=t[n],o=i<n?-1:1;for(let c=n;c!==i;c+=o)t[c]=t[c+o];return t[i]=l,t}function uo(t,a,s){const n=t.slice();return n.splice(s<0?n.length+s:s,0,n.splice(a,1)[0]),n}let W=null;function mo({item:t,items:a,type:s,ref:n,onSortEnd:i,preview:l}){const{draggableProps:o,dragHandleRef:c}=ii({id:t,ref:n,type:s,preview:l,onDragStart:()=>{W={sortables:[...a],activeSortable:t,activeIndex:a.indexOf(t),finalIndex:a.indexOf(t)},po()},onDragEnd:()=>{!W||(go(),i==null||i(W.activeIndex,W.finalIndex),W=null)},getData:()=>{}}),{droppableProps:d}=li({id:t,ref:n,types:[s],onDragEnter:()=>{if(!W)return;const h=W.sortables.indexOf(t),g=W.sortables.indexOf(W.activeSortable);co(W.sortables,g,h);const b=W.sortables.map(v=>{var y;return(y=Ut.get(v))==null?void 0:y.rect});W.sortables.forEach((v,y)=>{if(!W)return;const k=uo(b,h,W.activeIndex),S=b[y],N=k[y],_=Ut.get(v);if((_==null?void 0:_.ref.current)&&N&&S){const F=N.left-S.left,q=N.top-S.top;_.ref.current.style.transform=`translate3d(${F}px, ${q}px, 0)`}}),W.finalIndex=h}});return{sortableProps:{...He(o,d)},dragHandleRef:c}}const ho="transform 0.2s cubic-bezier(0.2, 0, 0, 1)";function po(){!W||W.sortables.forEach((t,a)=>{const s=Ut.get(t);!(s!=null&&s.ref.current)||(s.ref.current.style.transition=ho,(W==null?void 0:W.activeIndex)===a&&(s.ref.current.style.opacity="0.4"))})}function go(){!W||W.sortables.forEach(t=>{const a=Ut.get(t);a!=null&&a.ref.current&&(a.ref.current.style.transform="",a.ref.current.style.transition="",a.ref.current.style.opacity="",a.ref.current.style.zIndex="")})}function fo(){const{menuIndex:t}=me(),a=et(),{getValues:s}=E(),n=`settings.menus.${t}`,i=s(n);return m.exports.useEffect(()=>{i?I().preview.setHighlight(`[data-menu-id="${i.id}"]`):a("/admin/appearance/menus")},[a,i]),i?e(bo,{formPath:n}):null}function bo({formPath:t}){const{site:{has_mobile_app:a}}=Ce(),s=rt(l=>{var o;return(o=l.config)==null?void 0:o.sections.menus.config}),n=m.exports.useMemo(()=>{const l=[...s==null?void 0:s.positions];return a&&l.push("mobile-app-about"),l.map(o=>({key:o,name:o.replaceAll("-"," ")}))},[s,a]),i=xe({name:`${t}.items`,keyName:"key"});return u(m.exports.Fragment,{children:[u("div",{className:"mb-30 pb-30 border-b",children:[e(f,{name:`${t}.name`,label:e(r,{message:"Menu name"}),className:"mb-20",autoFocus:!0}),e(Yt,{chipSize:"sm",name:`${t}.positions`,valueKey:"id",label:e(r,{message:"Menu positions"}),description:e(r,{message:"Where should this menu appear on the site"}),children:n.map(l=>e(x,{value:l.key,capitalizeFirst:!0,children:l.name},l.key))})]}),e(vo,{fieldArray:i}),e("div",{className:"text-right",children:e(yo,{})})]})}function vo({fieldArray:{append:t,fields:a,move:s}}){const n=et();return u(D,{children:[u("div",{className:"flex items-center gap-16 justify-between flex-shrink-0",children:[e(r,{message:"Menu items"}),u(M,{type:"popover",placement:"right",offset:20,onClose:i=>{i&&(t({...i}),n(`items/${a.length}`))},children:[e(w,{variant:"outline",color:"primary",size:"xs",startIcon:e(ve,{}),children:e(r,{message:"Add"})}),e(Dn,{})]})]}),u("div",{className:"mt-20 flex-shrink-0",children:[a.map((i,l)=>e(xo,{item:i,items:a,index:l,onSortEnd:(o,c)=>{s(o,c)}},i.key)),!a.length&&e(wa,{size:"xs",className:"my-40",image:e(Sa,{src:oo}),title:e(r,{message:"No menu items yet"}),description:e(r,{message:"Click \u201Cadd\u201C button to start adding links, pages, routes and other items to this menu. "})})]})]})}function yo(){const t=et(),{menuIndex:a}=me(),{fields:s,remove:n}=xe({name:"settings.menus",keyName:"key"});if(!a)return null;const i=s[+a];return u(M,{type:"modal",onClose:l=>{if(l){const o=s.findIndex(c=>c.id===i.id);n(o),t("/admin/appearance/menus")}},children:[e(w,{variant:"outline",color:"danger",size:"xs",startIcon:e(Jt,{}),children:e(r,{message:"Delete menu"})}),e(Me,{isDanger:!0,title:e(r,{message:"Delete menu"}),body:e(r,{message:"Are you sure you want to delete \u201C:name\u201C?",values:{name:i.name}}),confirm:e(r,{message:"Delete"})})]})}function xo({item:t,items:a,index:s,onSortEnd:n}){const i=m.exports.useRef(null),{sortableProps:l,dragHandleRef:o}=mo({item:t,items:a,type:"menuEditorSortable",ref:i,onSortEnd:n}),c=t.icon&&Ss(t.icon),d=u("div",{className:"text-muted flex items-center gap-4 text-xs",children:[c&&e(c,{size:"sm"}),"(",e(r,{message:"No label..."}),")"]});return e(m.exports.Fragment,{children:e(Ae,{elementType:K,to:`items/${s}`,ref:i,...l,children:u("div",{className:"flex items-center gap-10",children:[e(L,{ref:o,size:"sm",children:e(lo,{className:"text-muted hover:cursor-move"})}),e("div",{children:t.label||d})]})})})}function wo(){const{menuIndex:t,menuItemIndex:a}=me(),s=we(),{getValues:n}=E(),i=`settings.menus.${t}.items.${a}`,l=n(i);return m.exports.useEffect(()=>{l&&I().preview.setHighlight(`[data-menu-item-id="${l.id}"]`)},[s,l]),!l||a==null?null:e(So,{formPath:i})}function So({formPath:t}){return u(m.exports.Fragment,{children:[e(lt,{formPathPrefix:t}),e("div",{className:"text-right mt-40",children:e(ko,{})})]})}function ko(){const t=we(),{menuIndex:a,menuItemIndex:s}=me(),{fields:n,remove:i}=xe({name:`settings.menus.${+a}.items`});if(!s)return null;const l=n[+s];return u(M,{type:"modal",onClose:o=>{o&&s&&(i(+s),t(`/admin/appearance/menus/${a}`))},children:[e(w,{variant:"outline",color:"danger",size:"xs",startIcon:e(Jt,{}),children:e(r,{message:"Delete this item"})}),e(Me,{isDanger:!0,title:e(r,{message:"Delete menu item"}),body:e(r,{message:"Are you sure you want to delete \u201C:name\u201C?",values:{name:l.label}}),confirm:e(r,{message:"Delete"})})]})}function No(){return u(m.exports.Fragment,{children:[e(wt,{label:e(r,{message:"Favicon"}),description:e(r,{message:"This will generate different size favicons. Image should be at least 512x512 in size."}),type:"favicon"}),e(wt,{label:e(r,{message:"Light logo"}),description:e(r,{message:"Will be used on dark backgrounds."}),type:"logo_light"}),e(wt,{label:e(r,{message:"Dark logo"}),description:e(r,{message:"Will be used on light backgrounds. Will default to light logo if left empty."}),type:"logo_dark"}),e(wt,{label:e(r,{message:"Mobile light logo"}),description:e(r,{message:"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty."}),type:"logo_light_mobile"}),e(wt,{label:e(r,{message:"Mobile dark logo"}),description:e(r,{message:"Will be used on dark backgrounds on mobile.Will default to desktop if left empty."}),type:"logo_dark_mobile"}),e(Co,{}),e(_o,{})]})}function wt({label:t,description:a,type:s}){const n=rt(i=>{var l;return(l=i.defaults)==null?void 0:l.settings.branding[s]});return e(At,{name:`settings.branding.${s}`,className:"border-b pb-30 mb-30",highlightSelector:'[data-logo="navbar"]',label:t,description:a,diskPrefix:"branding_media",defaultValue:n})}function Co(){return e(f,{name:"appearance.env.app_name",required:!0,className:"mt-20",label:e(r,{message:"Site name"})})}function _o(){return e(f,{name:"settings.branding.site_description",className:"mt-20",inputElementType:"textarea",rows:4,label:e(r,{message:"Site description"})})}function $o(t=1,a=1e4){const s=new Uint32Array(1);window.crypto.getRandomValues(s);const n=s[0]/(4294967295+1);return t=Math.ceil(t),a=Math.floor(a),Math.floor(n*(a-t+1))+t}function Eo(){const{trans:t}=O(),a=et(),{data:{themes:s}}=Cs(),{fields:n,append:i}=xe({name:"appearance.themes.all",keyName:"key"});return m.exports.useEffect(()=>{s.selectedThemeId&&I().preview.setActiveTheme(s.selectedThemeId)},[s.selectedThemeId]),u(m.exports.Fragment,{children:[e("div",{className:"mb-20",children:e(w,{size:"xs",variant:"outline",color:"primary",startIcon:e(ve,{}),onClick:()=>{var o;const l=(o=I().defaults)==null?void 0:o.appearance.themes.light;i({id:$o(),name:t(p("New theme")),colors:l}),a(`${n.length+1}`)},children:e(r,{message:"New theme"})})}),n.map((l,o)=>e(Ae,{to:`${o}`,elementType:_a,children:l.name},l.key))]})}function Ao(){const{fields:t}=xe({name:"appearance.seo"});return e(m.exports.Fragment,{children:t.map((a,s)=>e(f,{className:"mb-20",name:`appearance.seo.${s}.value`,label:a.name,placeholder:a.defaultValue,inputElementType:"textarea",rows:3},a.id))})}const Po=R.lazy(()=>Qt(()=>import("./ace-editor.9dd51c21.js"),["ace-editor.9dd51c21.js","main.2bad25cd.js","main.4a7787f5.css","index.9b3ee2f7.js"],import.meta.url));function zo({defaultValue:t,mode:a="html",title:s}){const[n,i]=m.exports.useState(t),[l,o]=m.exports.useState(!0);return u(te,{size:"fullscreen",className:"h-full w-full",children:[e(se,{children:s}),e(ae,{className:"relative flex-auto",padding:"p-0",children:e(m.exports.Suspense,{fallback:e("div",{className:"flex items-center justify-center w-full h-400",children:e(Et,{"aria-label":"Loading editor...",isIndeterminate:!0,size:"md"})}),children:e(Po,{mode:a,onChange:c=>{i(c)},defaultValue:n||"",onIsValidChange:o})})}),e(To,{isValid:l,value:n})]})}function To({isValid:t,value:a}){const{close:s}=X();return u(ye,{dividerTop:!0,children:[e(w,{onClick:()=>s(),children:e(r,{message:"Cancel"})}),e(w,{disabled:!t,variant:"flat",color:"primary",onClick:()=>{s(a)},children:e(r,{message:"Save"})})]})}function Fo(){return u(m.exports.Fragment,{children:[e(ns,{mode:"css"}),e(ns,{mode:"html"})]})}function ns({mode:t}){const{getValues:a}=E(),{setValue:s}=E(),n=t==="html"?e(r,{message:"Custom HTML & JavaScript"}):e(r,{message:"Custom CSS"});return u(M,{type:"modal",onClose:i=>{i!=null&&(s(`appearance.custom_code.${t}`,i,{shouldDirty:!0}),I().preview.setCustomCode(t,i))},children:[e(Ae,{children:n}),e(zo,{title:n,defaultValue:a(`appearance.custom_code.${t}`)||"",mode:t})]})}const Io=""+new URL("articles.8bfd9f17.svg",import.meta.url).href,Mo=[new Ue({type:ie.SelectModel,model:Fa,key:"user_id",label:p("User"),description:p("User page was created by")}),new mt({description:p("Date page was created")}),new ht({description:p("Date page was last updated")})],Lo=[{key:"slug",header:()=>e(r,{message:"Slug"}),body:t=>e(K,{target:"_blank",to:`/pages/${t.slug}`,className:$a,children:t.slug})},{key:"owner",header:()=>e(r,{message:"Owner"}),body:t=>t.user&&e(pt,{image:t.user.avatar,label:t.user.display_name,description:t.user.email})},{key:"type",header:()=>e(r,{message:"Type"}),body:t=>e(r,{message:t.type}),width:"w-1"},{key:"updatedAt",header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at}),width:"w-1"},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-1",body:t=>e(L,{size:"md",className:"text-muted",elementType:K,to:`${t.id}/edit`,children:e(We,{})})}];function Do(){return e(Ke,{endpoint:"custom-pages",title:e(r,{message:"Custom pages"}),filters:Mo,columns:Lo,queryParams:{with:"user"},actions:e(Ro,{}),selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Io,title:e(r,{message:"No pages have been created yet"}),filteringTitle:e(r,{message:"No matching pages"})})})}function Ro(){return e(st,{elementType:K,to:"new",children:e(r,{message:"New page"})})}function Vo(t){return z.get(`custom-pages/${t}`).then(a=>a.data)}function Oo(){const{pageId:t}=me();return Be(["custom-pages",t],()=>Vo(t),{enabled:!!t})}const Uo=R.lazy(()=>Qt(()=>import("./text-editor.020f6459.js"),["text-editor.020f6459.js","text-editor.b603c7db.css","main.2bad25cd.js","main.4a7787f5.css","format.eba72cc5.js","Edit.2aa2741b.js","date-picker.d8be8944.js","index.b7375da4.js","ArrowBack.da4c6dca.js","UnfoldLess.d46bce89.js","use-resume-subscription.985ade8a.js"],import.meta.url));function rs(){const{data:t,isFetched:a,fetchStatus:s}=Oo(),n=!a&&s!=="idle",i=G();return m.exports.useEffect(()=>{t!=null&&t.page&&i.reset(t.page)},[i,t==null?void 0:t.page]),e(m.exports.Suspense,{fallback:e(dt,{}),children:e("div",{className:"min-h-full",children:!n&&e(Uo,{page:t==null?void 0:t.page})})})}const Bo=[{label:p("Drive"),to:"drive"}],Rn=[{label:p("General"),to:"general"},...Bo,{label:p("Subscriptions"),to:"subscriptions"},{label:p("Localization"),to:"localization"},{label:p("Authentication"),to:"authentication"},{label:p("Uploading"),to:"uploading"},{label:p("Mail"),to:"mail"},{label:p("Cache"),to:"cache"},{label:p("Analytics"),to:"analytics"},{label:p("Logging"),to:"logging"},{label:p("Queue"),to:"queue"},{label:p("Recaptcha"),to:"recaptcha"},{label:p("GDPR"),to:"gdpr"},{label:p("Menus"),to:"/admin/appearance/menus"},{label:p("Seo"),to:"/admin/appearance/seo-settings"},{label:p("Themes"),to:"/admin/appearance/themes"}];function qo({className:t}){const a=Ie();return u("div",{className:A(t,"md:flex gap-30 bg-paper min-h-full items-start p-24 container mx-auto"),children:[e(Kt,{children:e(r,{message:"Settings"})}),a?e(Ho,{}):e(Wo,{}),e("div",{className:"md:px-30 flex-auto bg-paper relative max-w-500",children:e(xa,{})})]})}function Ho(){const{pathname:t}=Ca(),a=et(),s=t.split("/").pop();return e(Wt,{minWidth:"min-w-none",className:"w-full bg-paper mb-24",selectionMode:"single",selectedValue:s,onSelectionChange:n=>{a(n)},children:Rn.map(n=>e(x,{value:n.to,children:e(r,{...n.label})},n.to))})}function Wo(){return e("div",{className:"w-240 sticky top-24 flex-shrink-0",children:Rn.map(t=>e(_a,{to:t.to,className:({isActive:a})=>A("block p-14 whitespace-nowrap mb-8 rounded border-l-4 text-sm transition-bg-color",a?"bg-primary/selected border-l-primary font-medium":"border-l-transparent hover:bg-hover"),children:e(r,{...t.label})},t.to))})}function Pt(){return Be(["fetchAdminSettings"],()=>Go(),{staleTime:1/0})}function Go(){return z.get("settings").then(t=>t.data)}function Ko(){return z.post("sitemap/generate").then(t=>t.data)}function Qo(){return U(()=>Ko(),{onSuccess:()=>{B(p("Sitemap generated"))},onError:t=>le(t)})}const la=t=>t instanceof Date,jo=t=>Object.keys(t).length===0,ga=t=>t!=null&&typeof t=="object",is=(t,...a)=>Object.prototype.hasOwnProperty.call(t,...a),oa=t=>ga(t)&&jo(t),fa=(t,a)=>{if(t===a)return{};if(!ga(t)||!ga(a))return a;const s=t,n=a,i=Object.keys(s).reduce((l,o)=>(is(n,o)||(l[o]=void 0),l),{});return la(s)||la(n)?s.valueOf()==n.valueOf()?{}:n:Object.keys(n).reduce((l,o)=>{if(!is(s,o))return l[o]=n[o],l;const c=fa(s[o],n[o]);return oa(c)&&!la(c)&&(oa(s[o])||!oa(n[o]))||(l[o]=c),l},i)};function it(t,a){var s,n;if(typeof a=="function")n=a(t),n!==void 0&&(t=n);else if(Array.isArray(a))for(s=0;s<a.length;s++)n=a[s](t),n!==void 0&&(t=n);return t}function Jo(t,a){return t[0]==="-"&&Array.isArray(a)&&/^-\d+$/.test(t)?a.length+parseInt(t,10):t}function Xo(t){return/^\d+$/.test(t)}function Rt(t){return Object.prototype.toString.call(t)==="[object Object]"}function St(t){return Object(t)===t}function Vt(t){return Object.keys(t).length===0}var Yo=["__proto__","prototype","constructor"],Zo=function(t){return Yo.indexOf(t)===-1};function Zt(t,a){t.indexOf("[")>=0&&(t=t.replace(/\[/g,a).replace(/]/g,""));var s=t.split(a),n=s.filter(Zo);if(n.length!==s.length)throw Error("Refusing to update blacklisted property "+t);return s}var ls=Object.prototype.hasOwnProperty;function P(t,a,s,n){if(!(this instanceof P))return new P(t,a,s,n);typeof a>"u"&&(a=!1),typeof s>"u"&&(s=!0),typeof n>"u"&&(n=!0),this.separator=t||".",this.override=a,this.useArray=s,this.useBrackets=n,this.keepArray=!1,this.cleanup=[]}var ct=new P(".",!1,!0,!0);function $e(t){return function(){return ct[t].apply(ct,arguments)}}P.prototype._fill=function(t,a,s,n){var i=t.shift();if(t.length>0){if(a[i]=a[i]||(this.useArray&&Xo(t[0])?[]:{}),!St(a[i]))if(this.override)a[i]={};else{if(!(St(s)&&Vt(s)))throw new Error("Trying to redefine `"+i+"` which is a "+typeof a[i]);return}this._fill(t,a[i],s,n)}else{if(!this.override&&St(a[i])&&!Vt(a[i])){if(!(St(s)&&Vt(s)))throw new Error("Trying to redefine non-empty obj['"+i+"']");return}a[i]=it(s,n)}};P.prototype.object=function(t,a){var s=this;return Object.keys(t).forEach(function(n){var i=a===void 0?null:a[n],l=Zt(n,s.separator).join(s.separator);l.indexOf(s.separator)!==-1?(s._fill(l.split(s.separator),t,t[n],i),delete t[n]):t[n]=it(t[n],i)}),t};P.prototype.str=function(t,a,s,n){var i=Zt(t,this.separator).join(this.separator);return t.indexOf(this.separator)!==-1?this._fill(i.split(this.separator),s,a,n):s[t]=it(a,n),s};P.prototype.pick=function(t,a,s,n){var i,l,o,c,d;for(l=Zt(t,this.separator),i=0;i<l.length;i++)if(c=Jo(l[i],a),a&&typeof a=="object"&&c in a){if(i===l.length-1)return s?(o=a[c],n&&Array.isArray(a)?a.splice(c,1):delete a[c],Array.isArray(a)&&(d=l.slice(0,-1).join("."),this.cleanup.indexOf(d)===-1&&this.cleanup.push(d)),o):a[c];a=a[c]}else return;return s&&Array.isArray(a)&&(a=a.filter(function(h){return h!==void 0})),a};P.prototype.delete=function(t,a){return this.remove(t,a,!0)};P.prototype.remove=function(t,a,s){var n;if(this.cleanup=[],Array.isArray(t)){for(n=0;n<t.length;n++)this.pick(t[n],a,!0,s);return s||this._cleanup(a),a}else return this.pick(t,a,!0,s)};P.prototype._cleanup=function(t){var a,s,n,i;if(this.cleanup.length){for(s=0;s<this.cleanup.length;s++)n=this.cleanup[s].split("."),i=n.splice(0,-1).join("."),a=i?this.pick(i,t):t,a=a[n[0]].filter(function(l){return l!==void 0}),this.set(this.cleanup[s],a,t);this.cleanup=[]}};P.prototype.del=P.prototype.remove;P.prototype.move=function(t,a,s,n,i){return typeof n=="function"||Array.isArray(n)?this.set(a,it(this.pick(t,s,!0),n),s,i):(i=n,this.set(a,this.pick(t,s,!0),s,i)),s};P.prototype.transfer=function(t,a,s,n,i,l){return typeof i=="function"||Array.isArray(i)?this.set(a,it(this.pick(t,s,!0),i),n,l):(l=i,this.set(a,this.pick(t,s,!0),n,l)),n};P.prototype.copy=function(t,a,s,n,i,l){return typeof i=="function"||Array.isArray(i)?this.set(a,it(JSON.parse(JSON.stringify(this.pick(t,s,!1))),i),n,l):(l=i,this.set(a,this.pick(t,s,!1),n,l)),n};P.prototype.set=function(t,a,s,n){var i,l,o,c;if(typeof a>"u")return s;for(o=Zt(t,this.separator),i=0;i<o.length;i++){if(c=o[i],i===o.length-1)if(n&&Rt(a)&&Rt(s[c]))for(l in a)ls.call(a,l)&&(s[c][l]=a[l]);else if(n&&Array.isArray(s[c])&&Array.isArray(a))for(var d=0;d<a.length;d++)s[o[i]].push(a[d]);else s[c]=a;else(!ls.call(s,c)||!Rt(s[c])&&!Array.isArray(s[c]))&&(/^\d+$/.test(o[i+1])?s[c]=[]:s[c]={});s=s[c]}return s};P.prototype.transform=function(t,a,s){return a=a||{},s=s||{},Object.keys(t).forEach(function(n){this.set(t[n],this.pick(n,a),s)}.bind(this)),s};P.prototype.dot=function(t,a,s){a=a||{},s=s||[];var n=Array.isArray(t);return Object.keys(t).forEach(function(i){var l=n&&this.useBrackets?"["+i+"]":i;if(St(t[i])&&(Rt(t[i])&&!Vt(t[i])||Array.isArray(t[i])&&!this.keepArray&&t[i].length!==0))if(n&&this.useBrackets){var o=s[s.length-1]||"";return this.dot(t[i],a,s.slice(0,-1).concat(o+l))}else return this.dot(t[i],a,s.concat(l));else n&&this.useBrackets?a[s.join(this.separator).concat("["+i+"]")]=t[i]:a[s.concat(l).join(this.separator)]=t[i]}.bind(this)),a};P.pick=$e("pick");P.move=$e("move");P.transfer=$e("transfer");P.transform=$e("transform");P.copy=$e("copy");P.object=$e("object");P.str=$e("str");P.set=$e("set");P.delete=$e("delete");P.del=P.remove=$e("remove");P.dot=$e("dot");["override","overwrite"].forEach(function(t){Object.defineProperty(P,t,{get:function(){return ct.override},set:function(a){ct.override=!!a}})});["useArray","keepArray","useBrackets"].forEach(function(t){Object.defineProperty(P,t,{get:function(){return ct[t]},set:function(a){ct[t]=a}})});P._process=it;var os=P;function Vn(t){const{data:a}=Pt();return U(s=>{var l,o,c,d;(o=(l=s.client)==null?void 0:l.cookie_notice)!=null&&o.button&&(s.client.cookie_notice.button=JSON.stringify(s.client.cookie_notice.button)),(d=(c=s.client)==null?void 0:c.registration)!=null&&d.policies&&(s.client.registration.policies=JSON.stringify(s.client.registration.policies));const n=s.client?fa(a.client,s.client):null,i=s.server?fa(a.server,s.server):null;return ec({client:n,server:i,files:s.files})},{onSuccess:()=>{B(p("Settings updated"),{position:"bottom-right"}),V.invalidateQueries(["fetchAdminSettings"])},onError:s=>Se(s,t)})}function ec({client:t,server:a,files:s}){const n=new FormData;return t&&n.set("client",JSON.stringify(os.dot(t))),a&&n.set("server",JSON.stringify(os.dot(a))),Object.entries(s||{}).forEach(([i,l])=>{n.set(i,l)}),z.post("settings",n,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>i.data)}function he({title:t,description:a,children:s}){const{data:n}=Pt();return u("section",{children:[u("div",{className:"mb-40",children:[e("h2",{className:"text-xl mb-4",children:t}),e("div",{className:"text-sm text-muted",children:a})]}),n?e(tc,{defaultValues:n,children:s}):e(Et,{isIndeterminate:!0,"aria-label":"Loading settings..."})]})}function tc({children:t,defaultValues:a}){const s=G({defaultValues:a}),n=Vn(s);return u(m.exports.Fragment,{children:[u(de,{form:s,onBeforeSubmit:()=>{const i=s.formState.errors,l=Object.keys(i).filter(o=>o.endsWith("_group"));s.clearErrors(l)},onSubmit:i=>{n.mutate(i)},children:[t,e("div",{className:"mt-40",children:e(w,{type:"submit",variant:"flat",color:"primary",disabled:n.isLoading,children:e(r,{message:"Update"})})})]}),n.isLoading&&e(Ia,{size:"xs",className:"absolute -bottom-14 left-30 w-full",isIndeterminate:!0,"aria-label":"Saving settings..."})]})}function Oe(){return e("div",{className:"h-1 bg-divider my-30"})}function zt({link:t,className:a}){const{site:s}=Ce();return s.hide_docs_button?null:u("div",{className:A("flex items-center gap-8",a),children:[e(oi,{size:"sm"}),e(jt,{href:t,children:e(r,{message:"Learn more."})})]})}function ac(){return u(he,{title:e(r,{message:"General"}),description:e(r,{message:"Configure site url, homepage, theme and other general settings."}),children:[e(sc,{}),e(Oe,{}),e(nc,{}),e(Oe,{}),e(rc,{}),e(Oe,{}),e(ic,{})]})}function sc(){const{data:t}=Pt();if(!t)return null;let a=null;const s=t.server,n=s.newAppUrl&&s.newAppUrl!==s.app_url;return n&&(a=e("div",{className:"text-sm text-danger mt-20",children:e(r,{values:{baseUrl:s.app_url,currentUrl:s.newAppUrl,b:i=>e("b",{children:i})},message:"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file."})})),u(D,{children:[e(f,{invalid:!!n,name:"server.app_url",label:e(r,{message:"Primary site url"}),description:e(zt,{link:"https://support.vebto.com/help-center/articles/35/primary-site-url"})}),a]})}function nc(){const{homepage:t}=m.exports.useContext(tt);return e("div",{children:e(Z,{name:"client.homepage.type",selectionMode:"single",label:e(r,{message:"Site home page"}),description:e(r,{message:"Which page should be used as site homepage"}),children:t.options.map(a=>e(x,{value:a.value,children:e(r,{...a.label})},a.value))})})}function rc(){const{data:{themes:t}}=Cs();return u(m.exports.Fragment,{children:[u(Z,{className:"mb-20",name:"client.themes.default_id",selectionMode:"single",label:e(r,{message:"Default site theme"}),description:e(r,{message:"Which theme to use for users that have not chosen a theme manually."}),children:[e(x,{value:0,children:e(r,{message:"System"})}),t.all.map(a=>e(x,{value:a.id,children:a.name},a.id))]}),e(T,{name:"client.themes.user_change",description:e(r,{message:"Allow users to manually change site theme."}),children:e(r,{message:"Allow theme change"})})]})}function ic(){const t=Qo(),{base_url:a}=Ce(),s=`${a}/storage/sitemaps/sitemap-index.xml`,n=e(jt,{href:s,children:s});return u(D,{children:[e(w,{variant:"outline",size:"xs",color:"primary",disabled:t.isLoading,onClick:()=>{t.mutate()},children:e(r,{message:"Generate sitemap"})}),e("div",{className:"text-sm text-muted mt-14",children:e(r,{message:"Once generated, sitemap url will be: :url",values:{url:n}})})]})}function lc(t){return nt(t).toString("rgb").replace("rgb(","").replace(")","").replace(/, ?/g," ")}function cs(t){return nt(`rgb(${t.split(" ").join(",")})`).toString("hex")}const oc=_e(e("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined");function cc(){const{getValues:t,setValue:a}=E(),{themeIndex:s}=me(),n=t(`appearance.themes.all.${+s}`);return u(M,{type:"modal",onClose:i=>{!i||t("appearance.themes.all").forEach((l,o)=>{if(l.id===i.id){a(`appearance.themes.all.${o}`,i,{shouldDirty:!0});return}if(i.default_light){a(`appearance.themes.all.${o}`,{...l,default_light:!1},{shouldDirty:!0});return}if(i.default_dark){a(`appearance.themes.all.${o}`,{...l,default_dark:!1},{shouldDirty:!0});return}})},children:[e(w,{size:"xs",variant:"outline",color:"primary",startIcon:e(oc,{}),children:e(r,{message:"Settings"})}),e(uc,{theme:n})]})}function uc({theme:t}){const a=G({defaultValues:t}),{close:s,formId:n}=X();return m.exports.useEffect(()=>{const i=a.watch((l,{name:o})=>{o==="default_light"&&l.default_light&&a.setValue("default_dark",!1),o==="default_dark"&&l.default_dark&&a.setValue("default_light",!1)});return()=>i.unsubscribe()},[a]),u(te,{children:[e(se,{children:e(r,{message:"Update settings"})}),e(ae,{children:u(de,{form:a,id:n,onSubmit:i=>{s(i)},children:[e(f,{name:"name",label:e(r,{message:"Name"}),className:"mb-30",autoFocus:!0}),e(T,{name:"is_dark",className:"mb-20 pb-20 border-b",description:e(r,{message:"Whether this theme has light text on dark background."}),children:e(r,{message:"Dark theme"})}),e(T,{name:"default_light",className:"mb-30",description:e(r,{message:"When light mode is selected, this theme will be used."}),children:e(r,{message:"Default for light mode"})}),e(T,{name:"default_dark",description:e(r,{message:"When dark mode is selected, this theme will be used."}),children:e(r,{message:"Default for dark mode"})})]})}),u(ye,{children:[e(w,{onClick:()=>{s()},children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",type:"submit",form:n,disabled:!a.formState.isDirty,children:e(r,{message:"Save"})})]})]})}const dc=_e(e("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");function mc(){const t=we(),{themeIndex:a}=me(),[s,n]=m.exports.useState(!1),{setValue:i,getValues:l}=E(),{fields:o,remove:c}=xe({name:"appearance.themes.all"}),d=()=>{if(o.length<=1){B.danger(p("At least one theme is required"));return}a&&(t("/admin/appearance/themes"),c(+a),i("appearance.themes.selectedThemeId",null))};return u(m.exports.Fragment,{children:[u(Cr,{onItemSelected:h=>{if(h==="delete")n(!0);else if(h==="reset"){const g=`appearance.themes.all.${+a}`,b=l(`${g}.is_dark`)?I().defaults.appearance.themes.dark:I().defaults.appearance.themes.light;Object.entries(b).forEach(([v,y])=>{I().preview.setThemeColor(v,y)}),i(`${g}.colors`,b,{shouldDirty:!0})}},children:[e(L,{size:"md",className:"text-muted",children:e(ci,{})}),u(_r,{children:[e(x,{value:"reset",startIcon:e(dc,{}),children:e(r,{message:"Reset colors"})}),e(x,{value:"delete",startIcon:e(Jt,{}),children:e(r,{message:"Delete"})})]})]}),e(M,{type:"modal",isOpen:s,onClose:h=>{h&&d(),n(!1)},children:e(Me,{isDanger:!0,title:e(r,{message:"Delete theme"}),body:e(r,{message:"Are you sure you want to delete this theme?"}),confirm:e(r,{message:"Delete"})})})]})}function hc(){const t=et(),{themeIndex:a}=me(),{getValues:s}=E(),n=s(`appearance.themes.all.${+a}`);return m.exports.useEffect(()=>{n||t("/admin/appearance/themes")},[t,n]),m.exports.useEffect(()=>{n!=null&&n.id&&I().preview.setActiveTheme(n.id)},[n==null?void 0:n.id]),n?u(m.exports.Fragment,{children:[u("div",{className:"mb-20 flex items-center gap-10 justify-between",children:[e(cc,{}),e(mc,{})]}),e("div",{children:Object.entries(n.colors).filter(([i])=>!i.endsWith("opacity")).map(([i,l])=>e(pc,{colorName:i,initialThemeValue:l,theme:n},i))})]}):null}function pc({theme:t,colorName:a,initialThemeValue:s}){const{setValue:n}=E(),{themeIndex:i}=me(),[l,o]=m.exports.useState(s),c=d=>{o(d),I().preview.setThemeColor(a,d)};return m.exports.useEffect(()=>{o(s)},[s]),u(M,{type:"popover",placement:"right",offset:10,onClose:d=>{d&&d!==cs(s)?(n(`appearance.themes.all.${+i}.colors.${a}`,l,{shouldDirty:!0}),n("appearance.themes.selectedThemeId",t.id)):c(s)},children:[e(Ae,{className:"capitalize",startIcon:e(qs,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:`rgb(${l})`}}),children:a.replace("--be-","").replace("-"," ")}),e(Pn,{defaultValue:cs(s),onChange:d=>{c(lc(d))}})]})}function gc(){return u(he,{title:e(r,{message:"Drive"}),description:e(r,{message:"Configure defaults for drive user dashboard."}),children:[u(Ea,{required:!0,className:"mb-30",size:"md",name:"client.drive.default_view",orientation:"vertical",label:e(r,{message:"Default view mode"}),description:e(r,{message:"Which view mode should user drive use by default."}),children:[e(Je,{value:"list",children:e(r,{message:"List"})}),e(Je,{value:"grid",children:e(r,{message:"Grid"})})]}),e(T,{className:"mb-30",name:"client.drive.send_share_notification",description:e(r,{message:"Send a notification to user when a file or folder is shared with them."}),children:e(r,{message:"Share notifications"})}),e(T,{name:"client.share.suggest_emails",description:e(r,{message:"Suggest email address of existing users when sharing a file or folder."}),children:e(r,{message:"Suggest emails"})})]})}const fc=e(m.exports.Fragment,{children:e(C,{path:"drive",element:e(gc,{})})});function oe({children:t,name:a,separatorBottom:s=!0,separatorTop:n=!0}){const{formState:{errors:i}}=E(),l=m.exports.useRef(null),o=i[a];return m.exports.useEffect(()=>{var c;o&&((c=l.current)==null||c.scrollIntoView({behavior:"smooth"}))},[o]),u("div",{className:A(s&&"border-b mb-20 pb-20",n&&"border-t mt-20 pt-20",o&&"border-y-error"),ref:l,children:[t(!!o),o&&e("div",{className:"text-danger text-sm mt-20",dangerouslySetInnerHTML:{__html:o.message}})]})}function ba({children:t,...a}){const{field:{onChange:s,onBlur:n,value:i=[],ref:l},fieldState:{invalid:o,error:c}}=Ze({name:a.name}),d=m.exports.useMemo(()=>{const g=i;return typeof g=="string"?JSON.parse(g):g},[i]),h={onChange:g=>{const b=JSON.stringify(g.map(v=>v.name));s(b)},onBlur:n,value:d,invalid:o,errorMessage:c==null?void 0:c.message};return e(Ts,{ref:l,...He(h,a)})}const Tt=R.createContext(null);function On(t){const{size:a="md",children:s,className:n,isLazy:i}=t,l=m.exports.useRef([]),o=m.exports.useId(),[c,d]=Gt(t.selectedTab,t.defaultSelectedTab||0,t.onTabChange),h=m.exports.useMemo(()=>({selectedTab:c,setSelectedTab:d,tabsRef:l,size:a,isLazy:i,id:o}),[c,o,i,d,a]);return e(Tt.Provider,{value:h,children:e("div",{className:A(n,"max-w-full overflow-hidden"),children:s})})}function bc(){const{tabsRef:t,selectedTab:a}=m.exports.useContext(Tt),[s,n]=m.exports.useState({width:void 0,transform:void 0,className:void 0});return _s(()=>{if(a!=null&&t.current){const i=t.current[a];n(l=>({width:`${i.offsetWidth}px`,transform:`translateX(${i.offsetLeft}px)`,className:l.width===void 0?"":"transition-all"}))}},[n,a,t]),e("div",{className:A("absolute bottom-0 left-0 h-2 bg-primary",s.className),role:"presentation",style:{width:s.width,transform:s.transform}})}function Un({children:t,center:a}){const s=m.exports.Children.toArray(t);return e(ps,{children:u("div",{className:"flex relative max-w-full overflow-auto border-b",role:"tablist","aria-orientation":"horizontal",children:[s.map((n,i)=>m.exports.isValidElement(n)?m.exports.cloneElement(n,{index:i,className:A(n.props.className,a&&i===0&&"ml-auto",a&&i===s.length-1&&"mr-auto")}):null),e(bc,{})]})})}function qt({index:t,className:a,isDisabled:s,children:n}){const{selectedTab:i,setSelectedTab:l,tabsRef:o,size:c,id:d}=m.exports.useContext(Tt),h=t===i,g=gs(),b=A("tracking-wide overflow-hidden capitalize text-sm flex-shrink-0 flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded",vc({isDisabled:s,isSelected:h}),a,{"px-18 h-48":!c||c==="md","px-12 h-32":c==="sm","cursor-pointer":!s}),v=k=>{switch(k.key){case"ArrowLeft":g.focusPrevious();break;case"ArrowRight":g.focusNext();break;case"Home":g.focusFirst();break;case"End":g.focusLast();break}},y=h?0:-1;return e("button",{disabled:s,id:`${d}-${t}-tab`,"aria-controls":`${d}-${t}-tabpanel`,type:"button",role:"tab","aria-selected":h,tabIndex:s?void 0:y,onKeyDown:v,onClick:()=>{l(t)},className:b,ref:k=>{o.current&&k&&(o.current[t]=k)},children:n})}function vc({isDisabled:t,isSelected:a}){return t?"text-disabled cursor-default":a?"text-primary":"text-muted hover:text-main"}function Bn({children:t,className:a}){const{selectedTab:s,isLazy:n}=m.exports.useContext(Tt),i=m.exports.Children.toArray(t);let l;return n?l=m.exports.cloneElement(i[s],{index:s}):l=i.map((o,c)=>{if(m.exports.isValidElement(o)){const d=c===s;return m.exports.cloneElement(o,{index:c,"aria-hidden":!d,className:d?o.props.className:A(o.props.className,"hidden")})}return null}),e("div",{className:a,children:l})}function Ht({className:t,children:a,index:s,...n}){const{id:i}=m.exports.useContext(Tt),[l,o]=m.exports.useState(0),c=m.exports.useRef(null);return _s(()=>{if(c!=null&&c.current){const d=()=>{const g=$r(c.current,{tabbable:!0});o(g.nextNode()?void 0:0)};d();const h=new MutationObserver(d);return h.observe(c.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{h.disconnect()}}},[c]),e("div",{tabIndex:l,ref:c,id:`${i}-${s}-tabpanel`,"aria-labelledby":`${i}-${s}-tab`,className:A(t,"focus-visible:outline-primary-light"),role:"tabpanel",...n,children:a})}function yc(){const{trans:t}=O();return e(he,{title:e(r,{message:"Subscriptions"}),description:e(r,{message:"Configure gateway integration, accepted cards, invoices and other related settings."}),children:u(On,{children:[u(Un,{children:[e(qt,{children:e(r,{message:"General"})}),e(qt,{children:e(r,{message:"Invoices"})})]}),u(Bn,{className:"pt-30",children:[u(Ht,{children:[e(T,{name:"client.billing.enable",description:e(r,{message:"Enable or disable all subscription related functionality across the site."}),children:e(r,{message:"Enable subscriptions"})}),e(Oe,{}),e(xc,{}),e(wc,{}),e(Oe,{}),e(ba,{name:"client.billing.accepted_cards",placeholder:t({message:"Add new card..."})})]}),u(Ht,{children:[e(f,{inputElementType:"textarea",rows:5,label:e(r,{message:"Invoice address"}),name:"client.billing.invoice.address",className:"mb-30"}),e(f,{inputElementType:"textarea",rows:5,label:e(r,{message:"Invoice notes"}),description:e(r,{message:"Default notes to show under `notes` section of user invoice. Optional."}),name:"client.billing.invoice.notes"})]})]})]})})}function xc(){const{watch:t}=E(),a=t("client.billing.paypal.enable");return u("div",{className:"mb-30",children:[e(T,{name:"client.billing.paypal.enable",description:u("div",{children:[e(r,{message:"Enable PayPal payment gateway integration."}),e(zt,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/147/configuring-paypal"})]}),children:e(r,{message:"PayPal gateway"})}),a&&e(oe,{name:"paypal_group",children:s=>u(m.exports.Fragment,{children:[e(f,{name:"server.paypal_client_id",label:e(r,{message:"PayPal Client ID"}),required:!0,invalid:s,className:"mb-20"}),e(f,{name:"server.paypal_secret",label:e(r,{message:"PayPal Secret"}),required:!0,invalid:s,className:"mb-20"}),e(f,{name:"server.paypal_webhook_id",label:e(r,{message:"PayPal Webhook ID"}),required:!0,invalid:s,className:"mb-20"}),e(T,{name:"client.billing.paypal_test_mode",invalid:s,description:e("div",{children:e(r,{message:"Allows testing PayPal payments with sandbox accounts."})}),children:e(r,{message:"PayPal test mode"})})]})})]})}function wc(){const{watch:t}=E(),a=t("client.billing.stripe.enable");return u(D,{children:[e(T,{name:"client.billing.stripe.enable",description:u("div",{children:[e(r,{message:"Enable Stripe payment gateway integration."}),e(zt,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/148/configuring-stripe"})]}),children:e(r,{message:"Stripe gateway"})}),a&&e(oe,{name:"stripe_group",separatorBottom:!1,children:s=>u(m.exports.Fragment,{children:[e(f,{name:"server.stripe_key",label:e(r,{message:"Stripe Client ID"}),required:!0,className:"mb-20",invalid:s}),e(f,{name:"server.stripe_secret",label:e(r,{message:"Stripe Secret"}),required:!0,className:"mb-20",invalid:s}),e(f,{name:"server.stripe_webhook_secret",label:e(r,{message:"Stripe webhook signing secret"}),required:!0,className:"mb-20",invalid:s})]})})]})}const Sc=Er(Ar());function kc(){const{data:t}=ze(["timezones","localizations"]);return u(he,{title:e(r,{message:"Localization"}),description:e(r,{message:"Configure global date, time and language settings."}),children:[e(ot,{className:"mb-30",required:!0,name:"server.app_timezone",openMenuOnFocus:!0,label:e(r,{message:"Server timezone"}),description:e(r,{message:"Choose either a city in the same timezone as you or a UTC timezone offset."}),children:Object.entries((t==null?void 0:t.timezones)||{}).map(([a,s])=>e(ks,{label:a,children:s.map(n=>e(x,{value:n.value,children:n.text},n.value))},a))}),u(Z,{name:"client.locale.default",className:"mb-30",selectionMode:"single",label:e(r,{message:"Site language"}),description:e(r,{message:"Which localization should be selected by default for new users or guests."}),children:[e(x,{value:"auto",children:e(r,{message:"System"})},"auto"),((t==null?void 0:t.localizations)||[]).map(a=>e(x,{value:a.language,capitalizeFirst:!0,children:a.name},a.language))]}),u(Ea,{required:!0,className:"mb-30",size:"sm",name:"client.dates.format",orientation:"vertical",label:e(r,{message:"Date verbosity"}),description:e(r,{message:"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale."}),children:[e(Je,{value:"auto",children:e(r,{message:"Auto"})},"auto"),Object.entries(Pr).map(([a,s])=>e(Je,{value:a,children:e(ue,{date:Sc,options:s})},a))]}),e(T,{name:"client.i18n.enable",description:e(r,{message:"If disabled, site will always be shown in default language and user will not be able to change their locale."}),children:e(r,{message:"Enable translations"})})]})}function Nc(){return u(he,{title:e(r,{message:"Authentication"}),description:e(r,{message:"Configure registration, social login and related 3rd party integrations."}),children:[e(Cc,{}),e(T,{className:"mb-30",name:"client.registration.disable",description:e(r,{message:"All registration related functionality (including social login) will be disabled."}),children:e(r,{message:"Disable registration"})}),e(T,{name:"client.single_device_login",description:e(r,{message:"Only allow one device to be logged into user account at the same time."}),children:e(r,{message:"Single device login"})}),e(_c,{}),e($c,{}),e(Ec,{}),e(Ac,{})]})}function Cc(){const{watch:t}=E(),a=t("server.mail_setup");return e(T,{className:"mb-30",name:"client.require_email_confirmation",description:u(m.exports.Fragment,{children:[e(r,{message:"Require newly registered users to validate their email address before being able to login."}),!a&&e("p",{className:"mt-10 text-danger",children:e(r,{message:"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>",values:{a:s=>e(K,{className:"font-bold block underline",to:"/admin/settings/mail#outgoing-emails",children:s})}})})]}),children:e(r,{message:"Require email confirmation"})})}function _c(){const{watch:t}=E(),{envato:a}=Ce(),s=t("client.social.envato.enable");return a!=null&&a.enable?e(oe,{separatorBottom:!1,name:"envato_group",children:n=>u(D,{children:[e(T,{invalid:n,name:"client.social.envato.enable",description:e(r,{message:"Enable logging into the site via envato."}),children:e(r,{message:"Envato login"})}),s&&u(D,{children:[e(f,{invalid:n,className:"mt-30",name:"server.envato_id",label:e(r,{message:"Envato ID"}),required:!0}),e(f,{invalid:n,className:"mt-30",name:"server.envato_secret",label:e(r,{message:"Envato secret"}),required:!0}),e(f,{invalid:n,className:"mt-30",name:"server.envato_personal_token",label:e(r,{message:"Envato personal token"}),required:!0})]})]})}):null}function $c(){const{watch:t}=E(),a=t("client.social.google.enable");return e(oe,{name:"google_group",children:s=>u(D,{children:[e(T,{invalid:s,name:"client.social.google.enable",description:e(r,{message:"Enable logging into the site via google."}),children:e(r,{message:"Google login"})}),a&&u(D,{children:[e(f,{invalid:s,className:"mt-30",name:"server.google_id",label:e(r,{message:"Google client ID"}),required:!0}),e(f,{className:"mt-30",name:"server.google_secret",label:e(r,{message:"Google client secret"}),required:!0})]})]})})}function Ec(){const{watch:t}=E(),a=t("client.social.facebook.enable");return e(oe,{name:"facebook_group",separatorTop:!1,children:s=>u(D,{children:[e(T,{invalid:s,name:"client.social.facebook.enable",description:e(r,{message:"Enable logging into the site via facebook."}),children:e(r,{message:"Facebook login"})}),a&&u(D,{children:[e(f,{invalid:s,className:"mt-30",name:"server.facebook_id",label:e(r,{message:"Facebook app ID"}),required:!0}),e(f,{invalid:s,className:"mt-30",name:"server.facebook_secret",label:e(r,{message:"Facebook app secret"}),required:!0})]})]})})}function Ac(){const{watch:t}=E(),a=t("client.social.twitter.enable");return e(oe,{name:"twitter_group",separatorTop:!1,separatorBottom:!1,children:s=>u(D,{children:[e(T,{invalid:s,name:"client.social.twitter.enable",description:e(r,{message:"Enable logging into the site via twitter."}),children:e(r,{message:"Twitter login"})}),a&&u(D,{children:[e(f,{invalid:s,className:"mt-30",name:"server.twitter_id",label:e(r,{message:"Twitter ID"}),required:!0}),e(f,{invalid:s,className:"mt-30",name:"server.twitter_secret",label:e(r,{message:"Twitter secret"}),required:!0})]})]})})}function Ye({title:t,description:a,actions:s,color:n="primary",className:i}){return u("div",{className:A(i,"p-10 rounded border-l-4",n==="positive"&&"bg-positive/focus border-l-positive",n==="warning"&&"bg-warning/focus border-l-warning",n==="danger"&&"bg-danger/focus border-l-danger",n==="primary"&&"bg-primary/focus border-l-primary"),children:[t&&e("div",{className:"text-sm mb-4 font-medium",children:t}),a&&e("div",{className:"text-sm",children:a}),s&&e("div",{className:"mt-14",children:s})]})}function Pc(){return z.get("uploads/server-max-file-size").then(t=>t.data)}function zc(){return Be(["MaxServerUploadSize"],()=>Pc())}const Tc=["B","KB","MB","GB","TB","PB"];function us(t,a){if(t==null)return 0;switch(a){case"KB":return t*1024;case"MB":return t*1024**2;case"GB":return t*1024**3;case"TB":return t*1024**4;case"PB":return t*1024**5;default:return t}}const Fc=0x630000000000,Nt=R.forwardRef(({name:t,...a},s)=>{const{field:{onChange:n,onBlur:i,value:l="",ref:o},fieldState:{invalid:c,error:d}}=Ze({name:t}),[h,g]=m.exports.useState(""),[b,v]=m.exports.useState("MB");m.exports.useEffect(()=>{const{amount:S,unit:N}=Ic({bytes:Math.min(l,Fc)});v(N||"MB"),g(Number.isNaN(S)?"":S)},[l,b]);const y={onChange:S=>{const N=parseInt(S.target.value);if(Number.isNaN(N))n(N);else{const _=us(parseInt(S.target.value),b);n(_)}},onBlur:i,value:h,invalid:c,errorMessage:d==null?void 0:d.message,inputRef:o},k=e(Wt,{minWidth:"min-w-80",selectionMode:"single",selectedValue:b,disabled:!l,onSelectionChange:S=>{const N=us(h||0,S);n(N)},children:Tc.slice(0,5).map(S=>e(x,{value:S,children:S==="B"?"Bytes":S},S))});return e(ut,{...He(y,a),type:"number",ref:s,endAppend:k})}),Ic=zr(({bytes:t})=>{const a=Ls(t);if(!a)return{amount:"",unit:"MB"};let s=parseInt(a.split(" ")[0]);return s=Math.round(s),{amount:s,unit:a.split(" ")[1]}});function Mc(){const{trans:t}=O();return U(()=>Lc(),{onSuccess:()=>{B(t(p("CORS file updated"))),V.invalidateQueries(["Query Key"])},onError:a=>le(a)})}function Lc(){return z.post("s3/cors/upload").then(t=>t.data)}function Dc(){return U(t=>Rc(t),{onError:t=>le(t)})}function Rc(t){return z.post("settings/uploading/dropbox-refresh-token",t).then(a=>a.data)}function Vc({isInvalid:t}){const{watch:a}=E(),s=a("server.storage_dropbox_app_key"),n=a("server.storage_dropbox_app_secret");return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-20",name:"server.storage_dropbox_app_key",label:e(r,{message:"Dropbox application key"}),required:!0}),e(f,{invalid:t,className:"mb-20",name:"server.storage_dropbox_app_secret",label:e(r,{message:"Dropbox application secret"}),required:!0}),e(f,{invalid:t,className:"mb-20",name:"server.storage_dropbox_refresh_token",label:e(r,{message:"Dropbox refresh token"}),required:!0}),u(M,{type:"modal",children:[e(w,{variant:"outline",color:"primary",size:"xs",disabled:!s||!n,children:e(r,{message:"Get dropbox refresh token"})}),e(Oc,{appKey:s,appSecret:n})]})]})}function Oc({appKey:t,appSecret:a}){const s=G(),{formId:n}=X(),i=Dc();return u(te,{children:[e(se,{children:e(r,{message:"Connected dropbox account"})}),e(ae,{children:u(de,{id:n,form:s,onSubmit:l=>{i.mutate({app_key:t,app_secret:a,access_code:l.accessCode})},children:[u("div",{className:"mb-20 pb-20 border-b",children:[e("div",{className:"text-muted text-sm mb-10",children:e(r,{message:"Click the 'get access code' button to get dropbox access code, then paste it into the field below."})}),e(w,{variant:"outline",color:"primary",size:"xs",elementType:"a",target:"_blank",href:`https://www.dropbox.com/oauth2/authorize?client_id=${t}&token_access_type=offline&response_type=code`,children:e(r,{message:"Get access code"})})]}),e(f,{name:"accessCode",label:e(r,{message:"Dropbox access code"}),required:!0})]})}),u(ye,{children:[e(w,{onClick:()=>{close()},children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",form:n,type:"submit",disabled:!t||!a||i.isLoading,children:e(r,{message:"Connect"})})]})]})}function Uc(){const{trans:t}=O();return u(he,{title:e(r,{message:"Uploading"}),description:e(r,{message:"Configure size and type of files that users are able to upload. This will affect all uploads across the site."}),children:[e(qc,{}),e(Hc,{}),e(Wc,{}),e(oe,{name:"static_delivery_group",children:a=>u(Ea,{invalid:a,size:"sm",name:"server.static_file_delivery",orientation:"vertical",label:e(r,{message:"File delivery optimization"}),description:e(r,{message:"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files."}),children:[e(Je,{value:"",children:e(r,{message:"None"})}),e(Je,{value:"xsendfile",children:e(r,{message:"X-Sendfile (Apache)"})}),e(Je,{value:"xaccel",children:e(r,{message:"X-Accel (Nginx)"})})]})}),e(Nt,{className:"mb-30",name:"client.uploads.chunk_size",min:1,label:e(r,{message:"Chunk size"}),placeholder:"Infinity",description:e(r,{message:"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail."})}),e(Bc,{}),e(Oe,{}),e(Nt,{min:1,name:"client.uploads.max_size",className:"mb-30",label:e(r,{message:"Maximum file size"}),description:e(r,{message:"Maximum size (in bytes) for a single file user can upload."})}),e(Nt,{min:1,name:"client.uploads.available_space",className:"mb-30",label:e(r,{message:"Available space"}),description:e(r,{message:"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user."})}),e(ba,{name:"client.uploads.allowed_extensions",className:"mb-30",label:e(r,{message:"Allowed extensions"}),placeholder:t(p("Add extension...")),description:e(r,{message:"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types."})}),e(ba,{name:"client.uploads.blocked_extensions",label:e(r,{message:"Blocked extensions"}),placeholder:t(p("Add extension...")),description:e(r,{message:"Prevent uploading of these file types, even if they are allowed above."})})]})}function Bc(){const{data:t}=zc();return e(Ye,{color:"warning",description:e(r,{message:"Maximum upload size on your server currently is set to <b>:size</b>",values:{size:t==null?void 0:t.maxSize,b:a=>e("b",{children:a})}})})}function qc(){const{watch:t,clearErrors:a}=E();return t("server.uploads_disk_driver")?u(Z,{className:"mb-30",selectionMode:"single",name:"server.uploads_disk_driver",label:e(r,{message:"User Uploads Storage Method"}),description:e(r,{message:"Where should user private file uploads be stored."}),onSelectionChange:()=>{a()},children:[e(x,{value:"local",children:e(r,{message:"Local Disk (Default)"})}),e(x,{value:"s3",children:"Amazon S3"}),e(x,{value:"ftp",children:"FTP"}),e(x,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e(x,{value:"backblaze_s3",children:"Backblaze"}),e(x,{value:"dropbox",children:"Dropbox"}),e(x,{value:"rackspace",children:"Rackspace"})]}):null}function Hc(){const{watch:t,clearErrors:a}=E();return t("server.public_disk_driver")?u(Z,{label:e(r,{message:"Public Uploads Storage Method"}),selectionMode:"single",name:"server.public_disk_driver",description:e(r,{message:"Where should user public uploads (like avatars) be stored."}),onSelectionChange:()=>{a()},children:[e(x,{value:"local",children:e(r,{message:"Local Disk (Default)"})}),e(x,{value:"s3",children:"Amazon S3"}),e(x,{value:"ftp",children:"FTP"}),e(x,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e(x,{value:"backblaze_s3",children:"Backblaze"})]}):null}function Wc(){const{watch:t}=E(),a=[t("server.uploads_disk_driver"),t("server.public_disk_driver")];return a[0]==="local"&&a[1]==="local"?null:e(oe,{separatorBottom:!1,name:"storage_group",children:s=>{if(a.includes("s3"))return e(Gc,{isInvalid:s});if(a.includes("ftp"))return e(jc,{isInvalid:s});if(a.includes("dropbox"))return e(Vc,{isInvalid:s});if(a.includes("digitalocean_s3"))return e(Kc,{isInvalid:s});if(a.includes("backblaze_s3"))return e(Qc,{isInvalid:s})}})}function Gc({isInvalid:t}){return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-30",name:"server.storage_s3_key",label:e(r,{message:"Amazon S3 key"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_s3_secret",label:e(r,{message:"Amazon S3 secret"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_s3_region",label:e(r,{message:"Amazon S3 region"}),pattern:"[a-z1-9\\-]+",placeholder:"us-east-1",required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_s3_bucket",label:e(r,{message:"Amazon S3 bucket"}),required:!0}),e(f,{invalid:t,name:"server.storage_s3_endpoint",label:e(r,{message:"Amazon S3 endpoint"}),description:e(r,{message:"Only change endpoint if you are using another S3 compatible storage service."})}),e(Ra,{invalid:t})]})}function Kc({isInvalid:t}){return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-30",name:"server.storage_digitalocean_key",label:e(r,{message:"DigitalOcean key"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_digitalocean_secret",label:e(r,{message:"DigitalOcean secret"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_digitalocean_region",label:e(r,{message:"DigitalOcean region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-east-1",required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_digitalocean_bucket",label:e(r,{message:"DigitalOcean bucket"}),required:!0}),e(Ra,{invalid:t})]})}function Qc({isInvalid:t}){return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-30",name:"server.storage_backblaze_key",label:e(r,{message:"Backblaze KeyID"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_backblaze_secret",label:e(r,{message:"Backblaze applicationKey"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_backblaze_region",label:e(r,{message:"Backblaze Region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-west-002",required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_backblaze_bucket",label:e(r,{message:"Backblaze bucket name"}),required:!0}),e(Ra,{invalid:t})]})}function Ra({invalid:t}){var i,l;const a=Mc(),{data:s}=Pt(),n=((i=s==null?void 0:s.server.uploads_disk_driver)==null?void 0:i.endsWith("s3"))||((l=s==null?void 0:s.server.public_disk_driver)==null?void 0:l.endsWith("s3"));return u(m.exports.Fragment,{children:[e(T,{className:"mt-30",invalid:t,name:"client.uploads.s3_direct_upload",description:u("div",{children:[e("p",{children:e(r,{message:"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads."})}),e("p",{className:"mt-10",children:e(r,{message:"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved."})})]}),children:e(r,{message:"Direct upload"})}),e(w,{variant:"flat",color:"primary",size:"xs",className:"mt-20",onClick:()=>{a.mutate()},disabled:!n||a.isLoading,children:e(r,{message:"Configure CORS"})})]})}function jc({isInvalid:t}){return u(D,{children:[e(f,{invalid:t,className:"mb-30",name:"server.storage_ftp_host",label:e(r,{message:"FTP hostname"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_ftp_username",label:e(r,{message:"FTP username"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_ftp_password",label:e(r,{message:"FTP password"}),type:"password",required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_ftp_root",label:e(r,{message:"FTP directory"}),placeholder:"/",required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.storage_ftp_port",label:e(r,{message:"FTP port"}),type:"number",min:0,placeholder:"21"}),e(T,{invalid:t,name:"server.storage_ftp_passive",className:"mb-30",children:e(r,{message:"Passive"})}),e(T,{invalid:t,name:"server.storage_ftp_ssl",children:e(r,{message:"SSL"})})]})}function Jc({isInvalid:t}){return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-30",name:"server.mailgun_domain",label:e(r,{message:"Mailgun domain"}),description:e(r,{message:"Usually the domain of your site (site.com)"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.mailgun_secret",label:e(r,{message:"Mailgun API key"}),description:e(r,{message:"Should start with `key-`"}),required:!0}),e(f,{invalid:t,name:"server.mailgun_endpoint",label:e(r,{message:"Mailgun endpoint"}),description:e(r,{message:"Can be left empty, if your mailgun account is in the US region."}),placeholder:"api.eu.mailgun.net"})]})}function Xc({isInvalid:t}){return u(D,{children:[e(f,{invalid:t,className:"mb-30",name:"server.mail_host",label:e(r,{message:"SMTP host"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.mail_username",label:e(r,{message:"SMTP username"}),required:!0}),e(f,{invalid:t,className:"mb-30",type:"password",name:"server.mail_password",label:e(r,{message:"SMTP password"}),required:!0}),e(f,{invalid:t,className:"mb-30",type:"number",name:"server.mail_port",label:e(r,{message:"SMTP port"})}),e(f,{invalid:t,className:"mb-30",type:"password",name:"server.mail_encryption",label:e(r,{message:"SMTP encryption"})})]})}function Yc({isInvalid:t}){return u(m.exports.Fragment,{children:[e(f,{invalid:t,className:"mb-30",name:"server.ses_key",label:e(r,{message:"SES key"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.ses_secret",label:e(r,{message:"SES secret"}),required:!0}),e(f,{invalid:t,name:"server.ses_region",label:e(r,{message:"SES region"}),placeholder:"us-east-1",required:!0})]})}function Zc({isInvalid:t}){return e(f,{invalid:t,name:"server.postmark_token",label:e(r,{message:"Postmark token"}),required:!0})}const ds=_e([e("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"},"0"),e("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"},"1"),e("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"},"2"),e("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"},"3"),e("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"},"4")],"Gmail","0 0 48 48");function eu(){const{watch:t,setValue:a}=E(),{connectSocial:s}=Tr(),n=t("server.connectedGmailAccount"),i=t("client.mail.handler")==="gmailApi",l=async()=>{const d=await s("secure/settings/mail/gmail/connect");if((d==null?void 0:d.status)==="SUCCESS"){const h=d.callbackData.profile.email;a("server.connectedGmailAccount",h),B(p("Connected gmail account: :email",{values:{email:h}}))}},o=e(w,{variant:"outline",color:"primary",startIcon:e(ds,{}),onClick:()=>{l()},children:e(r,{message:"Connect gmail account"})}),c=u("div",{className:"px-14 py-6 rounded bg-alt border flex items-center gap-14 text-sm",children:[e(ds,{size:"lg"}),n,e(w,{variant:"text",color:"primary",className:"ml-auto",onClick:()=>{l()},children:e(r,{message:"Reconnect"})})]});return u(m.exports.Fragment,{children:[i&&e(f,{name:"client.gmail.incoming.topicName",minLength:10,required:!0,label:e(r,{message:"Gmail topic name"}),description:e(r,{message:"Google cloud Pub/Sub topic name."}),className:"mb-30"}),e("div",{className:"text-sm mb-12",children:e(r,{message:"Gmail account"})}),n?c:o]})}function tu(){const{watch:t,clearErrors:a}=E(),s=[t("server.mail_driver"),t("client.mail.handler")],n=[];return s.includes("mailgun")&&n.push(Jc),s.includes("smtp")&&n.push(Xc),s.includes("ses")&&n.push(Yc),s.includes("postmark")&&n.push(Zc),s.includes("gmailApi")&&n.push(eu),e(oe,{separatorTop:!1,separatorBottom:!1,name:"mail_group",children:i=>u(m.exports.Fragment,{children:[u(Z,{onSelectionChange:()=>{a()},invalid:i,selectionMode:"single",name:"server.mail_driver",label:e(r,{message:"Outgoing mail method"}),description:u("div",{children:[e(r,{message:"Which method should be used for sending outgoing application emails (like registration confirmation)"}),e(zt,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails"})]}),children:[e(x,{value:"mailgun",children:"Mailgun"}),e(x,{value:"gmailApi",children:"Gmail Api"}),e(x,{value:"smtp",children:"SMTP"}),e(x,{value:"postmark",children:"Postmark"}),e(x,{value:"ses",children:"Ses (Amazon Simple Email Service)"}),e(x,{value:"sendmail",children:"SendMail"}),e(x,{value:"log",children:"Log (Email will be saved to error log)"})]}),n.length&&e("div",{className:"mt-30",children:n.map((l,o)=>e(l,{isInvalid:i},o))})]})})}function au(){const{clearErrors:t}=E(),{settings:a}=m.exports.useContext(tt);return a!=null&&a.showIncomingMailMethod?u(Z,{onSelectionChange:()=>{t()},className:"my-30",selectionMode:"single",name:"client.mail_handler",label:e(r,{message:"Incoming mail method"}),description:u("div",{children:[e(r,{message:"Which method should be used to handle incoming application emails."}),e(zt,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/76/configuring-email-provider"})]}),children:[e(x,{value:"mailgun",children:"Mailgun"}),e(x,{value:"gmailApi",children:"Gmail Api"}),e(x,{value:"null",children:"Rest API (Send emails via http API)"}),e(x,{value:"pipe",children:"Pipe (Pipe emails directly)"})]}):null}function su(){return u(he,{title:e(r,{message:"Mail settings"}),description:e(r,{message:"Change incoming and outgoing email handlers, email credentials and other related settings."}),children:[e(f,{id:"outgoing-emails",className:"mb-30",type:"email",name:"server.mail_from_address",label:e(r,{message:"From address"}),description:e(r,{message:"All outgoing application emails will be sent from this email address."}),required:!0}),e(nu,{}),e(f,{className:"mb-30",name:"server.mail_from_name",label:e(r,{message:"From name"}),description:e(r,{message:"All outgoing application emails will be sent using this name."}),required:!0}),e(Ye,{color:"warning",description:e(r,{message:"Your selected mail method must be authorized to send emails using this address and name."})}),e(Oe,{}),e(au,{}),e(tu,{})]})}function nu(){const{base_url:t}=Ce(),a=`${t}/contact`;return e(f,{className:"mb-30",type:"email",name:"client.mail.contact_page_address",label:e(r,{message:"Contact page address"}),description:e(r,{values:{contactPageUrl:e(jt,{href:a,children:a})},message:"Where emails from :contactPageUrl page should be sent to."})})}function ru(){return z.post("cache/flush").then(t=>t.data)}function iu(){return U(()=>ru(),{onSuccess:()=>{B(p("Cache cleared"))},onError:t=>le(t)})}function lu(){const t=iu();return u(he,{title:e(r,{message:"Cache settings"}),description:e(r,{message:"Select cache provider and manually clear cache."}),children:[e(ou,{}),e(w,{type:"button",variant:"outline",size:"xs",color:"primary",disabled:t.isLoading,onClick:()=>{t.mutate()},children:e(r,{message:"Clear cache"})}),e(Ye,{color:"warning",className:"mt-30",description:e(r,{message:'"File" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'})})]})}function ou(){const{watch:t,clearErrors:a}=E(),s=t("server.cache_driver");let n=null;return s==="memcached"&&(n=cu),e(oe,{separatorTop:!1,name:"cache_group",children:i=>u(D,{children:[u(Z,{invalid:i,onSelectionChange:()=>{a()},selectionMode:"single",name:"server.cache_driver",label:e(r,{message:"Cache method"}),description:e(r,{message:"Which method should be used for storing and retrieving cached items."}),children:[e(x,{value:"file",children:e(r,{message:"File (Default)"})}),e(x,{value:"array",children:e(r,{message:"None"})}),e(x,{value:"apc",children:"APC"}),e(x,{value:"memcached",children:"Memcached"}),e(x,{value:"redis",children:"Redis"})]}),n&&e("div",{className:"mt-30",children:e(n,{isInvalid:i})})]})})}function cu({isInvalid:t}){return u(D,{children:[e(f,{invalid:t,className:"mb-30",name:"server.memcached_host",label:e(r,{message:"Memcached host"}),required:!0}),e(f,{invalid:t,type:"number",name:"server.memcached_port",label:e(r,{message:"Memcached port"}),required:!0})]})}function uu(){return u(he,{title:e(r,{message:"Error logging"}),description:e(r,{message:"Configure site error logging and related 3rd party integrations."}),children:[e(du,{}),e(Ye,{className:"mt-30",color:"positive",description:e(r,{values:{a:t=>e(jt,{href:"https://sentry.io",children:t})},message:"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production."})})]})}function du(){const{clearErrors:t}=E();return e(oe,{separatorTop:!1,separatorBottom:!1,name:"logging_group",children:a=>e(f,{onChange:()=>{t()},invalid:a,name:"server.sentry_dsn",type:"url",minLength:30,required:!0,label:e(r,{message:"Sentry DSN"})})})}function mu(){return u(he,{title:e(r,{message:"Queue"}),description:e(r,{message:"Select active queue method and enter related 3rd party API keys."}),children:[e(Ye,{color:"positive",className:"mb-30",description:e(r,{message:"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application."})}),e(Ye,{color:"warning",className:"mb-30",description:e(r,{message:"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information."})}),e(hu,{})]})}function hu(){const{watch:t,clearErrors:a}=E(),s=t("server.queue_driver");let n=null;return s==="sqs"&&(n=pu),e(oe,{separatorTop:!1,separatorBottom:!1,name:"queue_group",children:i=>u(D,{children:[u(Z,{invalid:i,onSelectionChange:()=>{a()},selectionMode:"single",name:"server.queue_driver",label:e(r,{message:"Queue method"}),required:!0,children:[e(x,{value:"sync",children:e(r,{message:"Sync (Default)"})}),e(x,{value:"beanstalkd",children:"Beanstalkd"}),e(x,{value:"database",children:e(r,{message:"Database"})}),e(x,{value:"sqs",children:e(r,{message:"SQS (Amazon simple queue service)"})}),e(x,{value:"redis",children:"Redis"})]}),n&&e("div",{className:"mt-30",children:e(n,{isInvalid:i})})]})})}function pu({isInvalid:t}){return u(D,{children:[e(f,{invalid:t,className:"mb-30",name:"server.sqs_queue_key",label:e(r,{message:"SQS queue key"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.sqs_queue_secret",label:e(r,{message:"SQS queue secret"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.sqs_queue_prefix",label:e(r,{message:"SQS queue prefix"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.sqs_queue_name",label:e(r,{message:"SQS queue name"}),required:!0}),e(f,{invalid:t,className:"mb-30",name:"server.sqs_queue_region",label:e(r,{message:"SQS queue region"}),required:!0})]})}function gu(){const{settings:t}=m.exports.useContext(tt);return u(he,{title:e(r,{message:"Recaptcha"}),description:e(r,{message:"Configure google recaptcha integration and credentials."}),children:[(t==null?void 0:t.showRecaptchaLinkSwitch)&&e(T,{className:"mb-30",name:"client.recaptcha.enable.linkCreation",description:e(r,{message:"Enable recaptcha integration when creating links from homepage or user dashboard."}),children:e(r,{message:"Link creation"})}),e(T,{className:"mb-30",name:"client.recaptcha.enable.contact",description:e(r,{message:'Enable recaptcha integration for "contact us" page.'}),children:e(r,{message:"Contact page"})}),e(T,{className:"mb-30",name:"client.recaptcha.enable.register",description:e(r,{message:"Enable recaptcha integration for registration page."}),children:e(r,{message:"Registration page"})}),e(fu,{})]})}function fu(){const{clearErrors:t}=E();return e(oe,{separatorTop:!1,separatorBottom:!1,name:"recaptcha_group",children:a=>u(D,{children:[e(f,{className:"mb-30",onChange:()=>{t()},invalid:a,name:"client.recaptcha.site_key",label:e(r,{message:"Recaptcha v3 site key"})}),e(f,{onChange:()=>{t()},invalid:a,name:"client.recaptcha.secret_key",label:e(r,{message:"Recaptcha v3 secret key"})})]})})}const bu=R.forwardRef((t,a)=>{const s=xs(a),{fieldProps:n,inputProps:i}=Fr({...t,focusRef:s}),l=ka(t);return e(Ir,{ref:a,fieldClassNames:l,...n,children:e("input",{type:"file",ref:s,...i,className:A(l.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})})});function vu({name:t,...a}){const{field:{onChange:s,onBlur:n,ref:i},fieldState:{invalid:l,error:o}}=Ze({name:t}),[c,d]=R.useState(""),h={onChange:g=>{var b;s((b=g.target.files)==null?void 0:b[0]),d(g.target.value)},onBlur:n,value:c,invalid:l,errorMessage:o==null?void 0:o.message};return e(bu,{ref:i,...He(h,a)})}function yu(){return e(he,{title:e(r,{message:"Recaptcha"}),description:e(r,{message:"Configure google recaptcha integration and credentials."}),children:e(xu,{})})}function xu(){const{clearErrors:t}=E();return e(oe,{separatorTop:!1,separatorBottom:!1,name:"analytics_group",children:a=>u(m.exports.Fragment,{children:[e(vu,{className:"mb-30",onChange:()=>{t()},invalid:a,name:"files.certificate",accept:".json",label:e(r,{message:"Google service account key file (.json)"})}),e(f,{className:"mb-30",onChange:()=>{t()},invalid:a,name:"server.analytics_property_id",type:"number",label:e(r,{message:"Google analytics property ID"})}),e(f,{onChange:()=>{t()},invalid:a,name:"client.analytics.tracking_code",placeholder:"G-******",min:"1",max:"20",description:e(r,{message:"Google analytics measurement ID only, not the whole javascript snippet."}),label:e(r,{message:"Google tag manager measurement ID"})})]})})}function wu(t){const a=we();return U(s=>Su(s),{onSuccess:(s,n)=>{B(p("User updated")),V.invalidateQueries([j("users")]),$s(n.id),a("/admin/users")},onError:s=>Se(s,t)})}function Su({id:t,...a}){return a.roles&&(a.roles=a.roles.map(s=>s.id)),z.put(`users/${t}`,a).then(s=>s.data)}function ku(){const[t,a]=m.exports.useState(!1),s=m.exports.useRef(),n=m.exports.useCallback(i=>{var l;if(i){const o=new IntersectionObserver(([c])=>a(c.intersectionRatio<1),{threshold:[1]});s.current=o,o.observe(i)}else s.current&&((l=s.current)==null||l.disconnect())},[]);return{isSticky:t,sentinelRef:n}}function Ft({onSubmit:t,form:a,title:s,children:n,isLoading:i=!1}){const{isSticky:l,sentinelRef:o}=ku();return u(de,{onSubmit:t,onBeforeSubmit:()=>{a.clearErrors()},form:a,children:[e("div",{ref:o}),e("div",{className:A("sticky top-0 my-12 md:my-24 z-10 transition-shadow",l&&"bg-paper shadow"),children:u("div",{className:"container mx-auto flex items-center md:items-start gap-24 py-14 px-24",children:[e("h1",{className:"text-xl md:text-3xl",children:s}),e(w,{className:"ml-auto",variant:"flat",color:"primary",type:"submit",disabled:i,children:e(r,{message:"Save"})})]})}),e("div",{className:"container mx-auto px-24 pb-24",children:e("div",{className:"rounded",children:n})})]})}function qn({onSubmit:t,form:a,title:s,isLoading:n,avatarManager:i,resendEmailButton:l,children:o}){const{require_email_confirmation:c}=Ce(),{data:d}=ze(["roles","permissions"]);return u(Ft,{onSubmit:t,form:a,title:s,isLoading:n,children:[u("div",{className:"flex items-start gap-40 md:gap-80 mb-40",children:[i,u("div",{className:"flex-auto",children:[o,e(f,{className:"mb-30",name:"first_name",label:e(r,{message:"First name"})}),e(f,{name:"last_name",label:e(r,{message:"Last name"})})]})]}),u("div",{className:"border-t border-b mb-30 pb-30 pt-30",children:[e(T,{className:A(l&&"mb-30"),disabled:!c,name:"email_verified_at",description:e(r,{message:"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page."}),children:e(r,{message:"Email confirmed"})}),l]}),e(Nt,{className:"mb-30",name:"available_space",label:e(r,{message:"Allowed storage space"}),description:e(r,{values:{a:h=>e(K,{className:$a,target:"_blank",to:"/admin/settings/uploading",children:h})},message:"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page."})}),e(Yt,{className:"mb-30",name:"roles",label:e(r,{message:"Roles"}),suggestions:d==null?void 0:d.roles,children:h=>e(x,{value:h.id,children:h.name},h.id)}),u("div",{className:"mt-30 pt-30 border-t",children:[e("div",{className:"text-sm mb-10",children:e(r,{message:"Permissions"})}),e(Da,{name:"permissions"})]})]})}function Nu(){const t=G(),{require_email_confirmation:a}=Ce(),{userId:s}=me(),n=wu(t),i=Mr(),{data:l,isLoading:o}=Lr(s,{with:["subscriptions","roles","permissions"]});if(m.exports.useEffect(()=>{(l==null?void 0:l.user)&&!t.getValues().id&&t.reset({first_name:l.user.first_name,last_name:l.user.last_name,roles:l.user.roles,permissions:l.user.permissions,id:l.user.id,email_verified_at:Boolean(l.user.email_verified_at),available_space:l.user.available_space})},[l==null?void 0:l.user,t]),o)return e(dt,{});const c=e(w,{size:"xs",variant:"outline",color:"primary",disabled:!a||i.isLoading,onClick:()=>{i.mutate({email:l.user.email})},children:e(r,{message:"Resend email"})});return e(qn,{onSubmit:d=>{n.mutate(d)},form:t,title:e(r,{values:{email:l==null?void 0:l.user.email},message:"Edit :email"}),isLoading:n.isLoading,avatarManager:e(Cu,{user:l.user,onChange:()=>{$s(s)}}),resendEmailButton:c})}function Cu({user:t,onChange:a}){const s=Dr({user:t}),n=Rr({user:t});return e(Es,{value:t.avatar,isLoading:s.isLoading||n.isLoading,onUpload:i=>{s.mutate({file:i},{onSuccess:a})},onRemove:()=>{n.mutate(void 0,{onSuccess:a})}})}function _u(t){const a=we();return U(s=>$u(s),{onSuccess:()=>{B(p("User created")),V.invalidateQueries([j("users")]),a("/admin/users")},onError:s=>Se(s,t)})}function $u(t){return z.post("users",t).then(a=>a.data)}function Eu(t){return z.post("file-entries/delete",t).then(a=>a.data)}function Au(){return U(t=>Eu(t),{onError:t=>le(t)})}function Pu(){const t=G(),a=_u(t),s=e(Ms,{children:e(zu,{})});return u(qn,{onSubmit:n=>{a.mutate(n)},form:t,title:e(r,{message:"Add new user"}),isLoading:a.isLoading,avatarManager:s,children:[e(f,{className:"mb-30",name:"email",type:"email",label:e(r,{message:"Email"})}),e(f,{className:"mb-30",name:"password",type:"password",label:e(r,{message:"Password"})})]})}function zu(){const{uploadFile:t,uploadStatus:a}=Bs(),s=Au(),{watch:n,setValue:i}=G(),l=n("avatar"),o=d=>{t(d,{metadata:{disk:zs.public,diskPrefix:"avatars"},restrictions:{maxFileSize:Vr,allowedFileTypes:[vs.image]},showToastOnRestrictionFail:!0,onSuccess:({url:h})=>{i("avatar",h)}})},c=()=>{!l||s.mutate({paths:[l],deleteForever:!0})};return e(Es,{value:l,isLoading:a==="inProgress"||s.isLoading,onUpload:o,onRemove:c})}const Tu=_e(e("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"}),"TranslateOutlined"),Hn=t=>{const a=["getLocaleWithLines"];return t!=null&&a.push(t),a};function Fu(t){return Be(Hn(t),()=>Iu(t),{staleTime:1/0})}function Iu(t){return z.get(`localizations/${t}`).then(a=>a.data)}function Mu({id:t,...a}){return z.put(`localizations/${t}`,a).then(s=>s.data)}function Wn(t){return U(a=>Mu(a),{onSuccess:()=>{B(p("Localization updated")),V.invalidateQueries(j("localizations")),V.invalidateQueries(Hn())},onError:a=>t?Se(a,t):le(a)})}function Lu({localization:t}){const{formId:a,close:s}=X(),n=G({defaultValues:{id:t.id,name:t.name,language:t.language}}),{data:i}=ze(["languages"]),l=(i==null?void 0:i.languages)||[],o=Wn(n);return u(te,{children:[e(se,{children:e(r,{message:"Update localization"})}),e(ae,{children:u(de,{form:n,id:a,onSubmit:c=>{o.mutate(c,{onSuccess:s})},children:[e(f,{name:"name",label:e(r,{message:"Name"}),className:"mb-30",required:!0}),e(ot,{required:!0,name:"language",label:e(r,{message:"Language"}),selectionMode:"single",useOptionLabelAsInputValue:!0,children:l.map(c=>e(x,{value:c.code,children:c.name},c.code))})]})}),u(ye,{children:[e(w,{onClick:s,children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",type:"submit",form:a,disabled:o.isLoading,children:e(r,{message:"Save"})})]})]})}function Du(t){return z.post("localizations",t).then(a=>a.data)}function Ru(t){return U(a=>Du(a),{onSuccess:()=>{B(p("Localization created")),V.invalidateQueries(j("localizations"))},onError:a=>Se(a,t)})}function Vu(){const{formId:t,close:a}=X(),s=G({defaultValues:{language:"en"}}),{data:n}=ze(["languages"]),i=(n==null?void 0:n.languages)||[],l=Ru(s);return u(te,{children:[e(se,{children:e(r,{message:"Create localization"})}),e(ae,{children:u(de,{form:s,id:t,onSubmit:o=>{l.mutate(o,{onSuccess:a})},children:[e(f,{autoFocus:!0,name:"name",label:e(r,{message:"Name"}),className:"mb-30",required:!0}),e(ot,{required:!0,name:"language",label:e(r,{message:"Language"}),selectionMode:"single",useOptionLabelAsInputValue:!0,children:i.map(o=>e(x,{value:o.code,children:o.name},o.code))})]})}),u(ye,{children:[e(w,{onClick:a,children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",type:"submit",form:t,disabled:l.isLoading,children:e(r,{message:"Save"})})]})]})}const Ou=""+new URL("around-the-world.df9b11c5.svg",import.meta.url).href,Uu=[{key:"name",allowsSorting:!0,sortingKey:"name",header:()=>e(r,{message:"Name"}),body:t=>t.name},{key:"language",allowsSorting:!0,sortingKey:"language",header:()=>e(r,{message:"Language code"}),body:t=>t.language,width:"w-1"},{key:"updatedAt",allowsSorting:!0,header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at}),width:"w-1"},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-1",body:t=>u("div",{className:"text-muted",children:[e(K,{to:`${t.id}/translate`,children:e(Xe,{label:e(r,{message:"Translate"}),children:e(L,{size:"md",children:e(Tu,{})})})}),u(M,{type:"modal",children:[e(Xe,{label:e(r,{message:"Edit"}),children:e(L,{children:e(We,{})})}),e(Lu,{localization:t})]})]})}];function Bu(){return e(Ke,{endpoint:"localizations",title:e(r,{message:"Localizations"}),columns:Uu,actions:e(qu,{}),selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Ou,title:e(r,{message:"No localizations have been created yet"}),filteringTitle:e(r,{message:"No matching localizations"})})})}function qu(){return e(m.exports.Fragment,{children:u(M,{type:"modal",children:[e(st,{children:e(r,{message:"Add new localization"})}),e(Vu,{})]})})}function Hu(){const{formId:t,close:a}=X(),s=G();return u(te,{children:[e(se,{children:e(r,{message:"Add translation"})}),e(ae,{children:u(de,{form:s,id:t,onSubmit:n=>{a(n)},children:[e(Ye,{className:"mb-30",title:e(r,{message:"Add a new translation, if it does not exist already."}),description:e(r,{message:"This should only need to be done for things like custom menu items."})}),e(f,{inputElementType:"textarea",rows:2,autoFocus:!0,name:"key",label:e(r,{message:"Translation key"}),className:"mb-30",required:!0}),e(f,{inputElementType:"textarea",rows:2,name:"value",label:e(r,{message:"Translation value"}),required:!0})]})}),u(ye,{children:[e(w,{onClick:a,children:e(r,{message:"Cancel"})}),e(w,{variant:"flat",color:"primary",type:"submit",form:t,children:e(r,{message:"Add"})})]})]})}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 *//**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dt(t,a,s){let n=[],i;return()=>{let l;s.key&&s.debug!=null&&s.debug()&&(l=Date.now());const o=t();if(!(o.length!==n.length||o.some((h,g)=>n[g]!==h)))return i;n=o;let d;if(s.key&&s.debug!=null&&s.debug()&&(d=Date.now()),i=a(...o),s==null||s.onChange==null||s.onChange(i),s.key&&s.debug!=null&&s.debug()){const h=Math.round((Date.now()-l)*100)/100,g=Math.round((Date.now()-d)*100)/100,b=g/16,v=(y,k)=>{for(y=String(y);y.length<k;)y=" "+y;return y};console.info("%c\u23F1 "+v(g,5)+" /"+v(h,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*b,120))+"deg 100% 31%);",s==null?void 0:s.key)}return i}}const Wu=t=>t,Gu=t=>{const a=Math.max(t.startIndex-t.overscan,0),s=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=a;i<=s;i++)n.push(i);return n},Ku=(t,a)=>{const s=new ResizeObserver(n=>{var i,l;a({width:(i=n[0])==null?void 0:i.contentRect.width,height:(l=n[0])==null?void 0:l.contentRect.height})});if(!!t.scrollElement)return a(t.scrollElement.getBoundingClientRect()),s.observe(t.scrollElement),()=>{s.unobserve(t.scrollElement)}},ms={element:["scrollLeft","scrollTop"],window:["scrollX","scrollY"]},Qu=t=>(a,s)=>{if(!a.scrollElement)return;const n=ms[t][0],i=ms[t][1];let l=a.scrollElement[n],o=a.scrollElement[i];const c=()=>{s(a.scrollElement[a.options.horizontal?n:i])};c();const d=h=>{const g=h.currentTarget,b=g[n],v=g[i];(a.options.horizontal?l-b:o-v)&&c(),l=b,o=v};return a.scrollElement.addEventListener("scroll",d,{capture:!1,passive:!0}),()=>{a.scrollElement.removeEventListener("scroll",d)}},ju=Qu("element"),Ju=(t,a)=>t.getBoundingClientRect()[a.options.horizontal?"width":"height"],Xu=(t,a,s)=>{var n;(n=s.scrollElement)==null||n.scrollTo==null||n.scrollTo({[s.options.horizontal?"left":"top"]:t,behavior:a?"smooth":void 0})};class Yu{constructor(a){var s=this;this.unsubs=[],this.scrollElement=null,this.measurementsCache=[],this.itemMeasurementsCache={},this.pendingMeasuredCacheIndexes=[],this.measureElementCache={},this.range={startIndex:0,endIndex:0},this.setOptions=n=>{Object.entries(n).forEach(i=>{let[l,o]=i;typeof o>"u"&&delete n[l]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Wu,rangeExtractor:Gu,enableSmoothScroll:!0,onChange:()=>{},measureElement:Ju,initialRect:{width:0,height:0},...n}},this.notify=()=>{var n,i;(n=(i=this.options).onChange)==null||n.call(i,this)},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,!1),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.calculateRange()})),this.unsubs.push(this.options.observeElementOffset(this,i=>{this.scrollOffset=i,this.calculateRange()})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurements=Dt(()=>[this.options.count,this.options.paddingStart,this.options.getItemKey,this.itemMeasurementsCache],(n,i,l,o)=>{const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,c);for(let h=c;h<n;h++){const g=l(h),b=o[g],v=d[h-1]?d[h-1].end:i,y=typeof b=="number"?b:this.options.estimateSize(h),k=v+y;d[h]={index:h,start:v,size:y,end:k,key:g}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Dt(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,i,l)=>{const o=ed({measurements:n,outerSize:i,scrollOffset:l});return(o.startIndex!==this.range.startIndex||o.endIndex!==this.range.endIndex)&&(this.range=o,this.notify()),this.range},{key:!1,debug:()=>this.options.debug}),this.getIndexes=Dt(()=>[this.options.rangeExtractor,this.range,this.options.overscan,this.options.count],(n,i,l,o)=>n({...i,overscan:l,count:o}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItems=Dt(()=>[this.getIndexes(),this.getMeasurements(),this.options.measureElement],(n,i,l)=>{const o=g=>b=>{var v;const y=this.measurementsCache[g];if(!b)return;const k=l(b,this),S=(v=this.itemMeasurementsCache[y.key])!=null?v:y.size;k!==S&&(y.start<this.scrollOffset&&(this.destinationOffset||this._scrollToOffset(this.scrollOffset+(k-S),!1)),this.pendingMeasuredCacheIndexes.push(g),this.itemMeasurementsCache={...this.itemMeasurementsCache,[y.key]:k},this.notify())},c=[],d={};for(let g=0,b=n.length;g<b;g++){var h;const v=n[g],k={...i[v],measureElement:d[v]=(h=this.measureElementCache[v])!=null?h:o(v)};c.push(k)}return this.measureElementCache=d,c},{key:!1,debug:()=>this.options.debug}),this.scrollToOffset=function(n,i){let{align:l="start",smoothScroll:o=s.options.enableSmoothScroll}=i===void 0?{}:i;const c=s.scrollOffset,d=s.getSize();l==="auto"&&(n<=c?l="start":n>=c+d?l="end":l="start"),l==="start"?s._scrollToOffset(n,o):l==="end"?s._scrollToOffset(n-d,o):l==="center"&&s._scrollToOffset(n-d/2,o)},this.scrollToIndex=function(n,i){let{align:l="auto",smoothScroll:o=s.options.enableSmoothScroll,...c}=i===void 0?{}:i;const d=s.getMeasurements(),h=s.scrollOffset,g=s.getSize(),{count:b}=s.options,v=d[Math.max(0,Math.min(n,b-1))];if(!v)return;if(l==="auto")if(v.end>=h+g-s.options.scrollPaddingEnd)l="end";else if(v.start<=h+s.options.scrollPaddingStart)l="start";else return;const y=l==="end"?v.end+s.options.scrollPaddingEnd:v.start-s.options.scrollPaddingStart;s.scrollToOffset(y,{align:l,smoothScroll:o,...c})},this.getTotalSize=()=>{var n;return(((n=this.getMeasurements()[this.options.count-1])==null?void 0:n.end)||this.options.paddingStart)+this.options.paddingEnd},this._scrollToOffset=(n,i)=>{clearTimeout(this.scrollCheckFrame),this.destinationOffset=n,this.options.scrollToFn(n,i,this);let l;const o=()=>{let c=this.scrollOffset;this.scrollCheckFrame=l=setTimeout(()=>{if(this.scrollCheckFrame===l){if(this.scrollOffset===c){this.destinationOffset=void 0;return}c=this.scrollOffset,o()}},100)};o()},this.measure=()=>{this.itemMeasurementsCache={},this.notify()},this.setOptions(a),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.calculateRange()}}const Zu=(t,a,s,n)=>{for(;t<=a;){const i=(t+a)/2|0,l=s(i);if(l<n)t=i+1;else if(l>n)a=i-1;else return i}return t>0?t-1:0};function ed(t){let{measurements:a,outerSize:s,scrollOffset:n}=t;const i=a.length-1,o=Zu(0,i,d=>a[d].start,n);let c=o;for(;c<i&&a[c].end<n+s;)c++;return{startIndex:o,endIndex:c}}const td=typeof window<"u"?m.exports.useLayoutEffect:m.exports.useEffect;function ad(t){const a=m.exports.useReducer(()=>({}),{})[1],s={...t,onChange:i=>{a(),t.onChange==null||t.onChange(i)}},[n]=m.exports.useState(()=>new Yu(s));return n.setOptions(s),m.exports.useEffect(()=>n._didMount(),[]),td(()=>n._willUpdate()),n}function sd(t){return ad({observeElementRect:Ku,observeElementOffset:ju,scrollToFn:Xu,...t})}function nd(){const{localeId:t}=me(),{data:a,isLoading:s}=Fu(t),n=a==null?void 0:a.localization;return s||!n?e(dt,{}):e(rd,{localization:n})}function rd({localization:t}){const[a,s]=m.exports.useState(t.lines||{}),n=we(),i=Wn(),[l,o]=m.exports.useState("");return u("form",{className:"p-14 md:p-24 flex flex-col h-full",onSubmit:c=>{c.preventDefault(),i.mutate({id:t.id,lines:a},{onSuccess:()=>{n("/admin/localizations")}})},children:[e(id,{localization:t,setLines:s,lines:a,searchQuery:l,setSearchQuery:o,isLoading:i.isLoading}),e(ld,{lines:a,setLines:s,searchQuery:l})]})}function id({localization:t,searchQuery:a,setSearchQuery:s,isLoading:n,lines:i,setLines:l}){const o=we(),c=Ie(),{trans:d}=O();return u("div",{className:"flex-shrink-0",children:[u(gi,{size:"lg",className:"mb-16",children:[e(Qa,{onSelected:()=>{o("/admin/localizations")},children:e(r,{message:"Localizations"})}),e(Qa,{children:e(r,{message:":locale translations",values:{locale:t.name}})})]}),u("div",{className:"mb-24 flex items-center gap-32 md:gap-12",children:[e("div",{className:"max-w-440 flex-auto",children:e(ut,{value:a,onChange:h=>s(h.target.value),startAdornment:e(Ta,{}),placeholder:d({message:"Type to search..."})})}),u(M,{type:"modal",onClose:h=>{if(h){const g={...i};g[h.key]=h.value,l(g)}},children:[!c&&e(w,{className:"ml-auto",variant:"outline",color:"primary",startIcon:e(ve,{}),children:e(r,{message:"Add new"})}),e(Hu,{})]}),e(w,{variant:"flat",color:"primary",type:"submit",disabled:n,children:c?e(r,{message:"Save"}):e(r,{message:"Save translations"})})]})]})}function ld({searchQuery:t,lines:a,setLines:s}){const n=m.exports.useMemo(()=>Object.entries(a).filter(([o,c])=>{const d=t==null?void 0:t.toLowerCase();return!d||(o==null?void 0:o.toLowerCase().includes(d))||(c==null?void 0:c.toLowerCase().includes(d))}),[a,t]),i=m.exports.useRef(null),l=sd({count:n.length,getScrollElement:()=>i.current,estimateSize:()=>123});return e("div",{className:"flex-auto overflow-y-auto",ref:i,children:e("div",{className:"relative w-full",style:{height:`${l.getTotalSize()}px`},children:l.getVirtualItems().map(o=>{const[c,d]=n[o.index];return e("div",{className:"w-full absolute top-0 left-0",style:{height:`${o.size}px`,transform:`translateY(${o.start}px)`},children:u("div",{className:"rounded border mb-10 md:mr-10",children:[u("div",{className:"flex items-center gap-24 justify-between px-10 py-2 border-b",children:[e("label",{className:"text-xs font-semibold flex-auto",htmlFor:c,children:c}),e(L,{size:"xs",className:"text-muted",onClick:()=>{const h={...a};delete h[c],s(h)},children:e(qe,{})})]}),e("div",{children:e("textarea",{id:c,name:c,defaultValue:d,className:"w-full block rounded resize-none outline-none focus-visible:ring-2 p-10 text-sm",rows:2,onChange:h=>{const g={...a};g[c]=h.target.value,s(g)}})})]})},c)})})})}function od(t){const{close:a}=X();return e(te,{size:"fullscreen",children:u(ae,{padding:"p-0",children:[e(L,{size:"lg",color:"paper",className:"absolute top-0 right-0 text-white",onClick:()=>{a()},children:e(qe,{})}),e("img",{...t})]})})}function cd(){var a;const t=Pt();return u("div",{className:"p-12 md:p-24",children:[e(Kt,{children:e(r,{message:"Ads"})}),e("h1",{className:"font-light text-2xl md:text-3xl mb-20 md:mb-40",children:e(r,{message:"Predefined Ad slots"})}),t.isLoading?e(Et,{isIndeterminate:!0}):e(ud,{defaultValues:((a=t.data)==null?void 0:a.client.ads)||{}})]})}function ud({defaultValues:t}){const{admin:{ads:a}}=m.exports.useContext(tt),s=G({defaultValues:{client:{ads:t}}}),n=Vn(s);return u(de,{form:s,onSubmit:i=>{n.mutate(i)},children:[a.map(i=>e(dd,{adConfig:i},i.slot)),e(T,{name:"client.ads.disable",className:"mb-30",description:e(r,{message:"Disable all add related functionality across the site."}),children:e(r,{message:"Disable ads"})}),e(w,{type:"submit",variant:"flat",color:"primary",disabled:n.isLoading,children:e(r,{message:"Save"})})]})}function dd({adConfig:t}){const a=Ie();return u("div",{className:"flex items-center gap-24",children:[e(f,{className:"mb-30 flex-auto",name:`client.${t.slot}`,inputElementType:"textarea",rows:8,label:e(r,{...t.description})}),!a&&u(M,{type:"modal",children:[e("button",{type:"button",className:"outline-none focus-visible:ring cursor-zoom-in rounded overflow-hidden hover:scale-105 transition",children:e("img",{src:t.image,className:"w-auto h-[186px] border",alt:"Ad slot example"})}),e(od,{src:t.image})]})]})}function md(){const t=rt(a=>{var s;return(s=a.config)==null?void 0:s.sections});return t?e(D,{children:Object.entries(t).map(([a,s])=>e(Ae,{to:a,elementType:_a,children:e(r,{...s.label})},a))}):null}const hd=[new Ue({type:ie.Select,key:"type",label:p("Type"),description:p("Type of the role"),defaultValue:"01",defaultOperator:Ne.ne,options:[{key:"01",label:p("Sitewide"),value:"sitewide"},{key:"02",label:p("Workspace"),value:"workspace"}]}),new mt({description:p("Date role was created")}),new ht({description:p("Date role was last updated")})],pd=[{key:"name",allowsSorting:!0,header:()=>e(r,{message:"Role"}),body:t=>u("div",{children:[e("div",{children:t.name}),e("div",{className:"text-muted text-xs",children:t.description})]})},{key:"type",allowsSorting:!0,header:()=>e(r,{message:"Type"}),body:t=>t.type,width:"w-1"},{key:"updated_at",allowsSorting:!0,header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at}),width:"w-1"},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",body:t=>e(K,{to:`${t.id}/edit`,children:e(L,{size:"md",className:"text-muted",children:e(We,{})})})}];function gd(){return e(Ke,{endpoint:"roles",title:e(r,{message:"Roles"}),columns:pd,filters:hd,actions:e(fd,{}),selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Ct,title:e(r,{message:"No roles have been created yet"}),filteringTitle:e(r,{message:"No matching roles"})})})}function fd(){return u(m.exports.Fragment,{children:[e(Us,{endpoint:"roles/csv/export"}),e(st,{elementType:K,to:"new",children:e(r,{message:"Add new role"})})]})}const Gn=t=>`roles/${t}`;function bd(t){return z.get(Gn(t)).then(a=>a.data)}function vd(){const{roleId:t}=me();return Be([Gn(t)],()=>bd(t))}const Kn=t=>`roles/${t}`;function yd(){const{trans:t}=O(),a=we();return U(s=>xd(s),{onSuccess:s=>{B(t(p("Role updated"))),V.invalidateQueries([Kn(s.role.id)]),V.invalidateQueries(j("roles")),a("/admin/roles")},onError:s=>le(s)})}function xd({id:t,...a}){return z.put(Kn(t),a).then(s=>s.data)}function Qn({isInternal:t=!1}){const{trans:a}=O(),{workspaces:s}=Ce(),{watch:n}=E(),i=n("type");return u(D,{children:[e(f,{label:e(r,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e(f,{label:e(r,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:a(p("Role description...")),rows:4,className:"mb-20"}),s.integrated&&u(Z,{label:e(r,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e(r,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:[e(x,{value:"sitewide",children:e(r,{message:"Sitewide"})}),e(x,{value:"workspace",children:e(r,{message:"Workspace"})})]}),!t&&u(D,{children:[e(T,{name:"default",className:"mb-20",description:e(r,{message:"Assign this role to new users automatically."}),children:e(r,{message:"Default"})}),i==="sitewide"&&e(T,{name:"guests",description:e(r,{message:"Assign this role to guests (not logged in users)."}),children:e(r,{message:"Guests"})})]}),e("h2",{className:"mb-10 mt-30 text-lg",children:e(r,{message:"Permissions"})}),e(Da,{name:"permissions",valueListKey:i==="sitewide"?"permissions":"workspacePermissions"})]})}function wd({onUserSelected:t}){var h;const{close:a}=X(),[s,n]=m.exports.useState(""),{trans:i}=O(),l=ui(Fa,{query:s,perPage:14}),o=((h=l.data)==null?void 0:h.results)||[],c=e(wa,{className:"pt-20",size:"sm",title:e(r,{message:"No matching users"}),description:e(r,{message:"Try another search query"}),image:e(Sa,{src:Ct})}),d=g=>{a(),t(g)};return u(te,{children:[e(se,{children:e(r,{message:"Select a user"})}),u(ae,{children:[e(ut,{autoFocus:!0,className:"mb-20",startAdornment:e(Ta,{}),placeholder:i(p("Search for user by name or email")),value:s,onChange:g=>{n(g.target.value)}}),!l.isLoading&&!o.length&&c,e("div",{className:"grid grid-cols-2 gap-x-10",children:o.map(g=>e(Sd,{user:g,onUserSelected:d},g.id))})]})]})}function Sd({user:t,onUserSelected:a}){return u("div",{className:"flex items-center gap-10 outline-none focus-visible:ring ring-offset-4 hover:bg-hover p-10 rounded",role:"button",tabIndex:0,onClick:()=>{a(t)},onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),a(t))},children:[e(As,{src:t.image}),u("div",{className:"overflow-hidden",children:[e("div",{className:"text-ellipsis overflow-hidden",children:t.name}),e("div",{className:"text-muted text-ellipsis overflow-hidden",children:t.description})]})]},t.id)}function kd(t){return U(({userIds:a})=>Nd({userIds:a,roleId:t.id}),{onSuccess:(a,s)=>{B(p("Removed [one 1 user|other {count} users] from \u201C{role}\u201C",{values:{count:s.userIds.length,role:t.name}}))},onError:a=>le(a)})}function Nd({roleId:t,userIds:a}){return z.post(`roles/${t}/remove-users`,{userIds:a}).then(s=>s.data)}function Cd(t){return U(({userIds:a})=>_d({userIds:a,roleId:t.id}),{onSuccess:(a,s)=>{B(p("Assigned [one 1 user|other {count} users] to {role}",{values:{count:s.userIds.length,role:t.name}}))},onError:a=>le(a)})}function _d({roleId:t,userIds:a}){return z.post(`roles/${t}/add-users`,{userIds:a}).then(s=>s.data)}const jn={key:"name",allowsSorting:!0,sortingKey:"email",header:()=>e(r,{message:"User"}),body:t=>e(pt,{image:t.avatar,label:t.display_name,description:t.email}),width:"col-w-3"},$d=[jn,{key:"first_name",allowsSorting:!0,header:()=>e(r,{message:"First name"}),body:t=>t.first_name},{key:"last_name",allowsSorting:!0,header:()=>e(r,{message:"Last name"}),body:t=>t.last_name},{key:"created_at",allowsSorting:!0,header:()=>e(r,{message:"Assigned at"}),body:t=>e(ue,{date:t.created_at})}],Ed=[jn];function Ad({role:t}){const a=Ie();return t.guests||t.type==="workspace"?e("div",{className:"pt-30 pb-10",children:e(Pe,{image:Ct,title:e(r,{message:"Users can't be assigned to this role"})})}):e(Os,{endpoint:"users",columns:a?Ed:$d,queryParams:{roleId:`${t.id}`},actions:e(Pd,{role:t}),selectedActions:e(zd,{role:t}),emptyStateMessage:e(Pe,{image:Ct,title:e(r,{message:"No users have been assigned to this role yet"}),filteringTitle:e(r,{message:"No matching users"})})})}function Pd({role:t}){const a=Cd(t);return u(M,{type:"modal",children:[e(w,{variant:"flat",color:"primary",disabled:a.isLoading,children:e(r,{message:"Assign user"})}),e(wd,{onUserSelected:s=>{a.mutate({userIds:[s.id]},{onSuccess:()=>{V.invalidateQueries(j("users",{roleId:`${t.id}`}))}})}})]})}function zd({role:t}){const a=kd(t),{selectedRows:s}=gt();return u(M,{type:"modal",onClose:n=>{n&&a.mutate({userIds:s},{onSuccess:()=>{V.invalidateQueries(j("users",{roleId:`${t.id}`}))}})},children:[e(w,{variant:"flat",color:"danger",disabled:a.isLoading,children:e(r,{message:"Remove users"})}),e(Me,{title:e(r,{message:"Remove [one 1 user|other :count users] from \u201C:name\u201C role?",values:{count:s.length,name:t.name}}),body:e(r,{message:"This will permanently remove the users."}),confirm:e(r,{message:"Remove"}),isDanger:!0})]})}function Td(){const t=vd();return t.status!=="success"?e(dt,{}):e(Fd,{role:t.data.role})}function Fd({role:t}){const a=G({defaultValues:t}),s=yd();return e(Ft,{form:a,onSubmit:n=>{s.mutate(n)},title:e(r,{message:"Edit \u201C:name\u201C role",values:{name:t.name}}),isLoading:s.isLoading,children:u(On,{isLazy:!0,children:[u(Un,{children:[e(qt,{children:e(r,{message:"Settings"})}),e(qt,{children:e(r,{message:"Users"})})]}),u(Bn,{className:"pt-20",children:[e(Ht,{children:e(Qn,{isInternal:t.internal})}),e(Ht,{children:e(Ad,{role:t})})]})]})})}const Id="roles";function Md(t){const{trans:a}=O();return U(s=>Ld(s),{onSuccess:()=>{B(a(p("Created new role"))),V.invalidateQueries(j("roles"))},onError:s=>Se(s,t)})}function Ld({id:t,...a}){return z.post(Id,a).then(s=>s.data)}function Dd(){const t=G({defaultValues:{type:"sitewide"}}),a=Md(t),s=we();return e(Ft,{form:t,onSubmit:n=>{a.mutate(n,{onSuccess:i=>{s(`/admin/roles/${i.role.id}/edit`)}})},title:e(r,{message:"Add new role"}),isLoading:a.isLoading,children:e(Qn,{})})}const Rd=t=>[new Ue({type:ie.Select,key:"type",label:p("Type"),description:p("Type of the tag"),defaultValue:t[0].name,defaultOperator:Ne.ne,options:t.map(a=>({key:a.name,label:p(a.name),value:a.name}))}),new mt({description:p("Date role was created")}),new ht({description:p("Date role was last updated")})],Jn=""+new URL("software-engineer.ba026106.svg",import.meta.url).href;function Xn({form:t,onSubmit:a,formId:s}){const{tags:{types:n}}=m.exports.useContext(tt),i=t.watch("type"),l=!!n.find(o=>o.name===i&&o.system);return u(de,{id:s,form:t,onSubmit:a,children:[e(f,{name:"name",label:e(r,{message:"Name"}),description:e(r,{message:"Unique tag identifier."}),className:"mb-20",required:!0,autoFocus:!0}),e(f,{name:"display_name",label:e(r,{message:"Display name"}),description:e(r,{message:"User friendly tag name."}),className:"mb-20"}),e(Z,{name:"type",selectionMode:"single",disabled:l,children:n.filter(o=>!o.system).map(o=>e(x,{value:o.name,children:e(r,{message:o.name})},o.name))})]})}function Vd(t){const{trans:a}=O();return U(s=>Od(s),{onSuccess:()=>{B(a(p("Tag created"))),V.invalidateQueries(j("tags"))},onError:s=>Se(s,t)})}function Od(t){return z.post("tags",t).then(a=>a.data)}function Ud(){const{close:t,formId:a}=X(),{tags:{types:s}}=m.exports.useContext(tt),n=G({defaultValues:{type:s[0].name}}),i=Vd(n);return u(te,{children:[e(se,{children:e(r,{message:"Add new tag"})}),e(ae,{children:e(Xn,{formId:a,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{t()}})}})}),u(ye,{children:[e(w,{onClick:()=>{t()},children:e(r,{message:"Cancel"})}),e(w,{form:a,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e(r,{message:"Save"})})]})]})}function Bd(t){const{trans:a}=O();return U(s=>qd(s),{onSuccess:()=>{B(a(p("Tag updated"))),V.invalidateQueries(j("tags"))},onError:s=>Se(s,t)})}function qd({id:t,...a}){return z.put(`tags/${t}`,a).then(s=>s.data)}function Hd({tag:t}){const{close:a,formId:s}=X(),n=G({defaultValues:{id:t.id,name:t.name,display_name:t.display_name,type:t.type}}),i=Bd(n);return u(te,{children:[e(se,{children:e(r,{message:"Update \u201C:name\u201C tag",values:{name:t.name}})}),e(ae,{children:e(Xn,{formId:s,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{a()}})}})}),u(ye,{children:[e(w,{onClick:()=>{a()},children:e(r,{message:"Cancel"})}),e(w,{form:s,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e(r,{message:"Save"})})]})]})}const Wd=[{key:"name",allowsSorting:!0,header:()=>e(r,{message:"Name"}),body:t=>t.name,width:"col-w-2"},{key:"type",allowsSorting:!0,header:()=>e(r,{message:"Type"}),body:t=>t.type},{key:"display_name",allowsSorting:!0,header:()=>e(r,{message:"Display name"}),body:t=>t.display_name,width:"col-w-2"},{key:"updated_at",allowsSorting:!0,header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at})},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",body:t=>u(M,{type:"modal",children:[e(L,{size:"md",className:"text-muted",children:e(We,{})}),e(Hd,{tag:t})]})}];function Gd(){const{tags:t}=m.exports.useContext(tt),a=m.exports.useMemo(()=>Rd(t.types),[t.types]);return e(Ke,{endpoint:"tags",title:e(r,{message:"Tags"}),columns:Wd,filters:a,actions:e(Kd,{}),selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Jn,title:e(r,{message:"No tags have been created yet"}),filteringTitle:e(r,{message:"No matching tags"})})})}function Kd(){return e(D,{children:u(M,{type:"modal",children:[e(st,{children:e(r,{message:"Add new tag"})}),e(Ud,{})]})})}const Qd=m.exports.memo(({bytes:t})=>e(m.exports.Fragment,{children:Ls(t)})),jd=_e(e("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined"),Jd=""+new URL("upload.cabfc914.svg",import.meta.url).href,Xd=[{key:"name",allowsSorting:!0,header:()=>e(r,{message:"Name"}),body:t=>u("div",{children:[e("div",{children:t.name}),e("div",{className:"text-muted text-xs",children:t.file_name})]})},{key:"owner_id",allowsSorting:!0,header:()=>e(r,{message:"Uploader"}),body:t=>{var s;const a=(s=t.users)==null?void 0:s[0];return a?e(pt,{image:a.avatar,label:a.display_name,description:a.email}):null}},{key:"type",allowsSorting:!0,header:()=>e(r,{message:"Type"}),body:t=>u("div",{className:"flex items-center gap-12",children:[e(Or,{type:t.type,className:"w-24 h-24 overflow-hidden"}),e("div",{className:"capitalize",children:t.type})]})},{key:"public",allowsSorting:!0,width:"w-1",header:()=>e(r,{message:"Public"}),body:t=>t.public?e(bs,{className:"icon-md text-positive"}):e(qe,{className:"icon-md text-danger"})},{key:"file_size",allowsSorting:!0,width:"w-1",header:()=>e(r,{message:"File size"}),body:t=>e(Qd,{bytes:t.file_size})},{key:"updated_at",allowsSorting:!0,width:"w-1",header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at})},{key:"actions",header:()=>e(r,{message:"Actions"}),width:"w-1",hideHeader:!0,align:"end",body:t=>u(M,{type:"modal",children:[e(L,{size:"md",className:"text-muted",children:e(jd,{})}),e(mi,{entries:[t]})]})}];function Yd(){return e(Ke,{endpoint:"file-entries",title:e(r,{message:"Uploaded files and folders"}),columns:Xd,filters:di,selectedActions:e(at,{}),emptyStateMessage:e(Pe,{image:Jd,title:e(r,{message:"Nothing has been uploaded yet"}),filteringTitle:e(r,{message:"No matching files or folders"})})})}const Zd=[new Ue({type:ie.Select,key:"ends_at",label:p("Status"),description:p("Whether subscription is active or cancelled"),defaultValue:"active",options:[{key:"active",label:p("Active"),value:{value:null,operator:Ne.eq}},{key:"cancelled",label:p("Cancelled"),value:{value:null,operator:Ne.ne}}]}),new Ue({type:ie.Select,key:"gateway_name",label:p("Gateway"),description:p("With which payment provider was subscription created"),defaultValue:"stripe",options:[{key:"stripe",label:p("Stripe"),value:"stripe"},{key:"paypal",label:p("PayPal"),value:"paypal"},{key:"none",label:p("None"),value:"none"}]}),new hi({key:"renews_at",label:p("Renew date"),description:p("Date subscription will renew")}),new mt({description:p("Date subscription was created")}),new ht({description:p("Date subscription was last updated")})],em=""+new URL("subscriptions.7eacea42.svg",import.meta.url).href;function tm(t){const{trans:a}=O();return U(s=>am(s),{onSuccess:()=>{B(a(p("Subscription updated"))),V.invalidateQueries(j("billing/subscriptions"))},onError:s=>Se(s,t)})}function am({id:t,...a}){return z.put(`billing/subscriptions/${t}`,a).then(s=>s.data)}function Yn({form:t,onSubmit:a,formId:s}){var o,c;const n=Ur(),i=t.watch("product_id"),l=(o=n.data)==null?void 0:o.products.find(d=>d.id===i);return u(de,{id:s,form:t,onSubmit:a,children:[e(pi,{name:"user_id",className:"mb-20",modelType:Fa,label:e(r,{message:"User"}),openMenuOnFocus:!0}),e(Z,{name:"product_id",selectionMode:"single",className:"mb-20",label:e(r,{message:"Plan"}),children:(c=n.data)==null?void 0:c.products.filter(d=>!d.free).map(d=>e(x,{value:d.id,children:e(r,{message:d.name})},d.id))}),!(l!=null&&l.free)&&e(Z,{name:"price_id",selectionMode:"single",className:"mb-20",label:e(r,{message:"Price"}),children:l==null?void 0:l.prices.map(d=>e(x,{value:d.id,children:e(Aa,{price:d})},d.id))}),e(f,{inputElementType:"textarea",rows:3,name:"description",label:e(r,{message:"Description"}),className:"mb-20"}),e(Ka,{className:"mb-20",name:"renews_at",granularity:"day",label:e(r,{message:"Renews at"}),description:e(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})}),e(Ka,{className:"mb-20",name:"ends_at",granularity:"day",label:e(r,{message:"Ends at"}),description:e(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})})]})}function sm({subscription:t}){const{close:a,formId:s}=X(),n=G({defaultValues:{id:t.id,product_id:t.product_id,price_id:t.price_id,description:t.description,renews_at:t.renews_at,ends_at:t.ends_at,user_id:t.user_id}}),i=tm(n);return u(te,{size:"md",children:[e(se,{children:e(r,{message:"Update subscription"})}),e(ae,{children:e(Yn,{formId:s,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{a()}})}})}),u(ye,{children:[e(w,{onClick:()=>{a()},children:e(r,{message:"Cancel"})}),e(w,{form:s,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e(r,{message:"Save"})})]})]})}const Zn="billing/subscriptions";function nm(t){const{trans:a}=O();return U(s=>rm(s),{onSuccess:()=>{B(a(p("Subscription created"))),V.invalidateQueries(j(Zn))},onError:s=>Se(s,t)})}function rm(t){return z.post(Zn,t).then(a=>a.data)}function im(){const{close:t,formId:a}=X(),s=G({}),n=nm(s);return u(te,{children:[e(se,{children:e(r,{message:"Add new subscription"})}),e(ae,{children:e(Yn,{formId:a,form:s,onSubmit:i=>{n.mutate(i,{onSuccess:()=>{t()}})}})}),u(ye,{children:[e(w,{onClick:()=>{t()},children:e(r,{message:"Cancel"})}),e(w,{form:a,disabled:n.isLoading,variant:"flat",color:"primary",type:"submit",children:e(r,{message:"Save"})})]})]})}const lm=_e(e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),om=_e(e("path",{d:"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"}),"PlayArrowOutlined"),ea="billing/subscriptions",cm=[{key:"usr_id",allowsSorting:!0,header:()=>e(r,{message:"Customer"}),body:t=>e(pt,{image:t.user.avatar,label:t.user.display_name,description:t.user.email})},{key:"status",header:()=>e(r,{message:"Status"}),width:"w-1",body:t=>t.valid?e(ua,{size:"xs",color:"positive",radius:"rounded",className:"w-max",children:e(r,{message:"Active"})}):e(ua,{size:"xs",radius:"rounded",className:"w-max",children:e(r,{message:"Cancelled"})})},{key:"product_id",allowsSorting:!0,header:()=>e(r,{message:"Plan"}),body:t=>{var a;return(a=t.product)==null?void 0:a.name},width:"w-1"},{key:"gateway",allowsSorting:!0,header:()=>e(r,{message:"Gateway"}),body:t=>e("span",{className:"capitalize",children:t.gateway_name})},{key:"renews_at",allowsSorting:!0,header:()=>e(r,{message:"Renews at"}),body:t=>e(ue,{date:t.renews_at}),width:"w-1"},{key:"ends_at",allowsSorting:!0,header:()=>e(r,{message:"Ends at"}),body:t=>e(ue,{date:t.ends_at}),width:"w-1"},{key:"created_at",allowsSorting:!0,header:()=>e(r,{message:"Created at"}),body:t=>e(ue,{date:t.created_at}),width:"w-1"},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",body:t=>e(mm,{subscription:t}),width:"w-1"}];function um(){return e(Ke,{endpoint:ea,title:e(r,{message:"Subscriptions"}),columns:cm,filters:Zd,actions:e(dm,{}),enableSelection:!1,selectedActions:e(at,{}),queryParams:{with:"product"},emptyStateMessage:e(Pe,{image:em,title:e(r,{message:"No subscriptions have been created yet"}),filteringTitle:e(r,{message:"No matching subscriptions"})})})}function dm(){return e(D,{children:u(M,{type:"modal",children:[e(st,{children:e(r,{message:"Add new subscription"})}),e(im,{})]})})}function mm({subscription:t}){return u(m.exports.Fragment,{children:[u(M,{type:"modal",children:[e(L,{size:"md",className:"text-muted",children:e(We,{})}),e(sm,{subscription:t})]}),t.cancelled?e(pm,{subscription:t}):e(hm,{subscription:t}),e(gm,{subscription:t})]})}function hm({subscription:t}){const a=Ds(),s=()=>{a.mutate({subscriptionId:t.id},{onSuccess:()=>{V.invalidateQueries(j(ea))}})};return u(M,{type:"modal",onClose:n=>{n&&s()},children:[e(Xe,{label:e(r,{message:"Cancel subscription"}),children:e(L,{size:"md",className:"text-muted",disabled:a.isLoading,children:e(lm,{})})}),e(Me,{title:e(r,{message:"Cancel subscription"}),body:u("div",{children:[e(r,{message:"Are you sure you want to cancel this subscription?"}),e("div",{className:"font-semibold text-sm mt-10",children:e(r,{message:"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area."})})]}),confirm:e(r,{message:"Confirm"})})]})}function pm({subscription:t}){const a=fi(),s=()=>{a.mutate({subscriptionId:t.id},{onSuccess:()=>{V.invalidateQueries(j(ea))}})};return u(M,{type:"modal",onClose:n=>{n&&s()},children:[e(Xe,{label:e(r,{message:"Renew subscription"}),children:e(L,{size:"md",className:"text-muted",onClick:s,disabled:a.isLoading,children:e(om,{})})}),e(Me,{title:e(r,{message:"Resume subscription"}),body:u("div",{children:[e(r,{message:"Are you sure you want to resume this subscription?"}),e("div",{className:"font-semibold text-sm mt-10",children:e(r,{message:"This will put user on their original plan and billing cycle."})})]}),confirm:e(r,{message:"Confirm"})})]})}function gm({subscription:t}){const a=Ds(),s=()=>{a.mutate({subscriptionId:t.id,delete:!0},{onSuccess:()=>{V.invalidateQueries(j(ea))}})};return u(M,{type:"modal",onClose:n=>{n&&s()},children:[e(Xe,{label:e(r,{message:"Delete subscription"}),children:e(L,{size:"md",className:"text-muted",disabled:a.isLoading,children:e(qe,{})})}),e(Me,{title:e(r,{message:"Delete subscription"}),body:u("div",{children:[e(r,{message:"Are you sure you want to delete this subscription?"}),e("div",{className:"font-semibold text-sm mt-10",children:e(r,{message:"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore."})})]}),confirm:e(r,{message:"Confirm"})})]})}const fm=_e(e("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"SyncOutlined");function bm(){const{trans:t}=O();return U(()=>vm(),{onSuccess:()=>{B(t(p("Plans synced")))},onError:a=>le(a,p("Could not sync plans"))})}function vm(){return z.post("billing/products/sync").then(t=>t.data)}const ym=t=>`billing/products/${t}`;function xm(){const{trans:t}=O();return U(a=>wm(a),{onSuccess:()=>{B(t(p("Plan deleted"))),V.invalidateQueries(j("billing/products"))},onError:a=>le(a)})}function wm({productId:t}){return z.delete(ym(t)).then(a=>a.data)}const Sm=[new Ue({type:ie.Select,key:"subscriptions",label:p("Subscriptions"),description:p("Whether plan has any active subscriptions"),defaultValue:"01",options:[{key:"01",label:p("Has active subscriptions"),value:{value:"*",operator:Ne.has}},{key:"02",label:p("Does not have active subscriptions"),value:{value:"*",operator:Ne.doesntHave}}]}),new mt({description:p("Date plan was created")}),new ht({description:p("Date plan was last updated")})],km=[{key:"name",allowsSorting:!0,header:()=>e(r,{message:"Name"}),body:t=>{const a=t.prices[0];return e(pt,{label:t.name,description:t.free?e(r,{message:"Free"}):e(Aa,{price:a})})}},{key:"created_at",allowsSorting:!0,header:()=>e(r,{message:"Created"}),body:t=>e(ue,{date:t.created_at}),align:"end"},{key:"updated_at",allowsSorting:!0,header:()=>e(r,{message:"Last updated"}),body:t=>e(ue,{date:t.updated_at}),width:"w-1"},{key:"actions",header:()=>e(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-1",body:t=>u(m.exports.Fragment,{children:[e(L,{size:"md",className:"text-muted",elementType:K,to:`/admin/plans/${t.id}/edit`,children:e(We,{})}),e(Cm,{product:t})]})}];function Nm(){const t=we();return e(Ke,{endpoint:"billing/products",title:e(r,{message:"Subscription plans"}),columns:km,actions:e(_m,{}),enableSelection:!1,filters:Sm,onRowAction:a=>{t(`/admin/plans/${a.id}/edit`)},emptyStateMessage:e(Pe,{image:Jn,title:e(r,{message:"No plans have been created yet"}),filteringTitle:e(r,{message:"No matching plans"})})})}function Cm({product:t}){const a=xm();return u(M,{type:"modal",onClose:s=>{s&&a.mutate({productId:t.id})},children:[e(Xe,{label:e(r,{message:"Delete plan"}),children:e(L,{size:"md",className:"text-muted",disabled:a.isLoading,children:e(Jt,{})})}),e(Me,{title:e(r,{message:"Delete plan"}),body:e(r,{message:"Are you sure you want to delete this plan?"}),confirm:e(r,{message:"Delete"})})]})}function _m(){const t=bm();return u(m.exports.Fragment,{children:[e(Xe,{label:e(r,{message:"Sync plans with Stripe & PayPal"}),children:e(L,{color:"primary",variant:"outline",radius:"rounded",size:"sm",disabled:t.isLoading,onClick:()=>{t.mutate()},children:e(fm,{})})}),e(st,{elementType:K,to:"/admin/plans/new",children:e(r,{message:"Add new plan"})})]})}const er=t=>`billing/products/${t}`;function $m(){const{productId:t}=me();return Be([er(t)],()=>Em(t))}function Em(t){return z.get(er(t)).then(a=>a.data)}const va=[{key:"day1",label:p("Daily"),interval:"day",interval_count:1},{key:"week1",label:p("Weekly"),interval:"week",interval_count:1},{key:"month1",label:p("Monthly"),interval:"month",interval_count:1},{key:"month3",label:p("Every 3 months"),interval:"month",interval_count:3},{key:"month6",label:p("Every 6 months"),interval:"month",interval_count:6},{key:"year1",label:p("Yearly"),interval:"year",interval_count:1},{key:"custom",label:p("Custom"),interval:null,interval_count:null}];function Am({index:t,onRemovePrice:a}){const s=ze(["currencies"]),n=m.exports.useMemo(()=>{var v;return(v=s.data)!=null&&v.currencies?Object.values(s.data.currencies):[]},[s.data]),{watch:i,getValues:l}=E(),o=!i("id"),c=i(`prices.${t}.id`)==null,d=i(`prices.${t}.subscriptions_count`)||0,[h,g]=m.exports.useState(()=>{const v=l(`prices.${t}.interval`),y=l(`prices.${t}.interval_count`),k=va.find(S=>S.key===`${v}${y}`);return k?k.key:"custom"}),b=o||c||!d;return u(m.exports.Fragment,{children:[!b&&e("p",{className:"text-muted text-sm max-w-500 mb-20",children:e(r,{message:"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.",values:{count:d}})}),e(f,{required:!0,disabled:!b,label:e(r,{message:"Amount"}),type:"number",min:1,step:.01,name:`prices.${t}.amount`,className:"mb-20"}),e(ot,{required:!0,disabled:!b,label:e(r,{message:"Currency"}),name:`prices.${t}.currency`,items:n,selectionMode:"single",className:"mb-20",children:v=>e(x,{value:v.code,children:`${v.code}: ${v.name}`},v.code)}),e(Pm,{disabled:!b,index:t,value:h,onValueChange:g}),h==="custom"&&e(zm,{disabled:!b,index:t}),e("div",{className:"text-right",children:e(w,{size:"xs",variant:"outline",color:"danger",disabled:!b,onClick:()=>{a()},children:e(r,{message:"Delete price"})})})]})}function Pm({index:t,value:a,onValueChange:s,disabled:n}){const{setValue:i}=E();return e(Wt,{label:e(r,{message:"Billing period"}),disabled:n,className:"mb-20",selectionMode:"single",selectedValue:a,onSelectionChange:l=>{if(s(l),l!=="custom"){const o=va.find(c=>c.key===l);o&&(i(`prices.${t}.interval`,o.interval),i(`prices.${t}.interval_count`,o.interval_count))}},children:va.map(l=>e(x,{value:l.key,children:e(r,{...l.label})},l.key))})}function zm({index:t,disabled:a}){return u("div",{className:"flex",children:[e("div",{className:"border-l border-y rounded-l px-18 flex items-center text-sm",children:e(r,{message:"Every"})}),e(f,{className:"max-w-80",name:`prices.${t}.interval_count`,type:"number",disabled:a,required:!0}),u(Z,{name:`prices.${t}.interval`,selectionMode:"single",disabled:a,children:[e(x,{value:"day",children:e(r,{message:"Days"})}),e(x,{value:"week",children:e(r,{message:"Weeks"})}),e(x,{value:"month",children:e(r,{message:"Months"})}),e(x,{value:"year",children:e(r,{message:"Years"})})]})]})}function tr(){return u(m.exports.Fragment,{children:[e(f,{name:"name",label:e(r,{message:"Name"}),className:"mb-20",required:!0,autoFocus:!0}),e(f,{name:"description",label:e(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,autoFocus:!0}),u(Z,{name:"position",selectionMode:"single",label:e(r,{message:"Position in pricing table"}),className:"mb-20",children:[e(x,{value:0,children:e(r,{message:"First"})}),e(x,{value:1,children:e(r,{message:"Second"})}),e(x,{value:2,children:e(r,{message:"Third"})}),e(x,{value:3,children:e(r,{message:"Fourth"})}),e(x,{value:4,children:e(r,{message:"Fifth"})})]}),e(Nt,{className:"mb-30",name:"available_space",label:e(r,{message:"Allowed storage space"}),description:e(r,{values:{a:t=>e(K,{className:$a,target:"_blank",to:"/admin/settings/uploading",children:t})},message:"Total storage space all user uploads are allowed to take up."})}),e(T,{name:"recommended",className:"mb-20",description:e(r,{message:"Plan will be displayed more prominently on pricing page."}),children:e(r,{message:"Recommend"})}),e(T,{name:"hidden",className:"mb-20",description:e(r,{message:"Plan will not be shown on pricing or upgrade pages."}),children:e(r,{message:"Hidden"})}),e(T,{name:"free",className:"mb-20",description:e(r,{message:"Will be assigned to all users, if they are not subscribed already."}),children:e(r,{message:"Free"})}),e(ya,{children:e(r,{message:"Feature list"})}),e(Tm,{}),e(Fm,{}),e(ya,{children:e(r,{message:"Permissions"})}),e(Da,{name:"permissions"})]})}function ya({children:t}){return e("h2",{className:"mt-40 mb-20 text-base font-semibold",children:t})}function Tm(){const{fields:t,append:a,remove:s}=xe({name:"feature_list"});return u("div",{children:[t.map((n,i)=>u("div",{className:"flex gap-10 mb-10",children:[e(f,{name:`feature_list.${i}.value`,size:"sm",className:"flex-auto"}),e(L,{size:"sm",color:"primary",className:"flex-shrink-0",onClick:()=>{s(i)},children:e(qe,{})})]},n.id)),e(w,{variant:"text",color:"primary",startIcon:e(ve,{}),size:"xs",onClick:()=>{a({value:""})},children:e(r,{message:"Add another line"})})]})}function Fm(){var l;const{watch:t,formState:{errors:a}}=E(),{fields:s,append:n,remove:i}=xe({name:"prices",keyName:"key"});return t("free")?null:u(m.exports.Fragment,{children:[e(ya,{children:e(r,{message:"Pricing"})}),((l=a.prices)==null?void 0:l.message)&&e("div",{className:"text-sm text-danger mb-20",children:a.prices.message}),e(Ge,{variant:"outline",className:"mb-10",children:s.map((o,c)=>e(be,{label:e(Aa,{price:o}),children:e(Am,{index:c,onRemovePrice:()=>{i(c)}})},o.key))}),e(w,{variant:"text",color:"primary",startIcon:e(ve,{}),size:"xs",onClick:()=>{n({currency:"USD",amount:1,interval_count:1,interval:"month"})},children:e(r,{message:"Add another price"})})]})}const ar=t=>`billing/products/${t}`;function Im(t){const{trans:a}=O(),s=we();return U(n=>Mm(n),{onSuccess:n=>{B(a(p("Plan updated"))),V.invalidateQueries([ar(n.product.id)]),V.invalidateQueries(j("billing/products")),s("/admin/plans")},onError:n=>Se(n,t)})}function Mm({id:t,...a}){const s={...a,feature_list:a.feature_list.map(n=>n.value)};return z.put(ar(t),s).then(n=>n.data)}function Lm(){const t=$m();return t.status!=="success"?e(dt,{}):e(Dm,{product:t.data.product})}function Dm({product:t}){const a=G({defaultValues:{...t,feature_list:t.feature_list.map(n=>({value:n}))}}),s=Im(a);return e(Ft,{form:a,onSubmit:n=>{s.mutate(n)},title:e(r,{message:"Edit \u201C:name\u201C plan",values:{name:t.name}}),isLoading:s.isLoading,children:e(tr,{})})}const sr="billing/products";function Rm(t){const{trans:a}=O(),s=we();return U(n=>Vm(n),{onSuccess:()=>{B(a(p("Plan updated"))),V.invalidateQueries([sr]),V.invalidateQueries(j("billing/products")),s("/admin/plans")},onError:n=>Se(n,t)})}function Vm(t){const a={...t,feature_list:t.feature_list.map(s=>s.value)};return z.post(sr,a).then(s=>s.data)}function Om(){const t=G({defaultValues:{free:!1,recommended:!1}}),a=Rm(t);return e(Ft,{form:t,onSubmit:s=>{a.mutate(s)},title:e(r,{message:"Create new plan"}),isLoading:a.isLoading,children:e(tr,{})})}function Um(){return u(he,{title:e(r,{message:"GDPR"}),description:e(r,{message:"Configure settings related to EU General Data Protection Regulation."}),children:[e(Bm,{}),e(Oe,{}),e(qm,{})]})}function Bm(){const{watch:t}=E(),a=t("client.cookie_notice.enable");return u("div",{children:[e(T,{name:"client.cookie_notice.enable",className:"mb-20",description:e(r,{message:"Whether cookie notice should be shown automatically to users from EU until it is accepted."}),children:e(r,{message:"Enable cookie notice"})}),a&&u(m.exports.Fragment,{children:[u("div",{className:"border-b pb-6 mb-20",children:[e("div",{className:"text-sm font-medium border-b pb-10 mb-20",children:e(r,{message:"Information button"})}),e(lt,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})]}),u(Z,{name:"client.cookie_notice.position",selectionMode:"single",label:e(r,{message:"Cookie notice position"}),className:"mb-20",children:[e(x,{value:"top",children:e(r,{message:"Top"})}),e(x,{value:"bottom",children:e(r,{message:"Bottom"})})]})]})]})}function qm(){const{fields:t,append:a,remove:s}=xe({name:"client.registration.policies"});return u(m.exports.Fragment,{children:[e("div",{className:"mb-6 text-sm",children:e(r,{message:"Registration policies"})}),e("div",{className:"text-xs text-muted",children:e(r,{message:"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox."})}),e(Ge,{className:"mt-16",variant:"outline",children:t.map((n,i)=>e(be,{label:n.label,chevronPosition:"left",endAppend:e(L,{radius:"rounded",variant:"text",color:"danger",size:"sm",onClick:()=>{s(i)},children:e(qe,{})}),children:e(lt,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.register_policies.${i}`})},n.id))}),u(M,{type:"modal",onClose:n=>{n&&a(n)},children:[e(w,{className:"mt-12",variant:"link",color:"primary",startIcon:e(ve,{}),size:"xs",children:e(r,{message:"Add another policy"})}),e(Dn,{title:e(r,{message:"Add policy"})})]})]})}const Hm=R.lazy(()=>Qt(()=>import("./reports-page.b7240b50.js"),["reports-page.b7240b50.js","main.2bad25cd.js","main.4a7787f5.css"],import.meta.url));function Wm(){return u(Br,{children:[u(C,{path:"appearance",element:e(J,{permission:"appearance.update",children:e(to,{})}),children:[e(C,{index:!0,element:e(md,{})}),e(C,{path:"general",element:e(No,{})}),e(C,{path:"seo-settings",element:e(Ao,{})}),e(C,{path:"custom-code",element:e(Fo,{})}),e(C,{path:"themes",element:e(Eo,{})}),e(C,{path:"themes/:themeIndex",element:e(hc,{})}),e(C,{path:"menus",element:e(ro,{})}),e(C,{path:"menus/:menuIndex",element:e(fo,{})}),e(C,{path:"menus/:menuIndex/items/:menuItemIndex",element:e(wo,{})}),Object.values(In.sections).map(t=>t.routes)]}),u(C,{path:"/",element:e(wi,{}),children:[e(C,{index:!0,element:e(R.Suspense,{fallback:e(dt,{}),children:e(Hm,{})})}),e(C,{path:"users",element:e(J,{permission:"users.update",children:e(Oi,{})})}),e(C,{path:"users/new",element:e(J,{permission:"users.update",children:e(Pu,{})})}),e(C,{path:"users/:userId/edit",element:e(J,{permission:"users.update",children:e(Nu,{})})}),e(C,{path:"roles",element:e(J,{permission:"roles.update",children:e(gd,{})})}),e(C,{path:"roles/new",element:e(J,{permission:"roles.update",children:e(Dd,{})})}),e(C,{path:"roles/:roleId/edit",element:e(J,{permission:"roles.update",children:e(Td,{})})}),e(C,{path:"subscriptions",element:e(J,{permission:"subscriptions.update",children:e(um,{})})}),e(C,{path:"plans",element:e(J,{permission:"plans.update",children:e(Nm,{})})}),e(C,{path:"plans/new",element:e(J,{permission:"plans.update",children:e(Om,{})})}),e(C,{path:"plans/:productId/edit",element:e(J,{permission:"plans.update",children:e(Lm,{})})}),e(C,{path:"custom-pages",element:e(J,{permission:"custom_pages.update",children:e(Do,{})})}),e(C,{path:"custom-pages/new",element:e(J,{permission:"custom_pages.update",children:e(rs,{})})}),e(C,{path:"custom-pages/:pageId/edit",element:e(J,{permission:"custom_pages.update",children:e(rs,{})})}),e(C,{path:"tags",element:e(J,{permission:"tags.update",children:e(Gd,{})})}),e(C,{path:"localizations",element:e(J,{permission:"localizations.update",children:e(Bu,{})})}),e(C,{path:"localizations/:localeId/translate",element:e(nd,{})}),e(C,{path:"ads",element:e(J,{permission:"settings.update",children:e(cd,{})})}),e(C,{path:"files",element:e(J,{permission:"files.update",children:e(Yd,{})})}),u(C,{path:"settings",element:e(J,{permission:"settings.update",children:e(qo,{})}),children:[e(C,{index:!0,element:e(Ns,{to:"general",replace:!0})}),e(C,{path:"general",element:e(ac,{})}),e(C,{path:"subscriptions",element:e(yc,{})}),e(C,{path:"localization",element:e(kc,{})}),e(C,{path:"authentication",element:e(Nc,{})}),e(C,{path:"uploading",element:e(Uc,{})}),e(C,{path:"mail",element:e(su,{})}),e(C,{path:"cache",element:e(lu,{})}),e(C,{path:"analytics",element:e(yu,{})}),e(C,{path:"logging",element:e(uu,{})}),e(C,{path:"queue",element:e(mu,{})}),e(C,{path:"recaptcha",element:e(gu,{})}),e(C,{path:"gdpr",element:e(Um,{})}),fc]})]}),e(C,{path:"*",element:e(qr,{})})]})}const Jm=Object.freeze(Object.defineProperty({__proto__:null,default:Wm},Symbol.toStringTag,{value:"Module"}));export{zo as A,Pn as C,lo as D,ja as F,lm as P,dc as R,fm as S,Tu as T,jd as V,ku as a,om as b,oc as c,Jm as d,ia as i,Bs as u};
//# sourceMappingURL=admin-routes.3fdcbe98.js.map
